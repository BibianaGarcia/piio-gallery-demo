!function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.piioGallery=void 0;const o=s(i(2)),n=s(i(3)),r=s(i(4)),a=s(i(5)),l=s(i(6)),h=s(i(7)),d=s(i(8)),u=s(i(9)),p=s(i(10)),c=i(11);class m{constructor(t){let e;this.defaultIndicatorProps={shape:"circle",size:13,spacing:6},this.defaultThumbnailProps={height:70,margin:10,navigationShape:"rectangle",selectedBorderPosition:"bottom",selectedBorderWidth:3,selectedStyle:"overlay",width:70},this.defaultZoomProps={position:"",ratio:2,type:"inline"},this.areAllThumbsInSight=!1,this.currentTranslate=0,this.deviceWidth=window.innerWidth,this.hasCursorMoved=!1,this.isMainSliderSwiping=!1,this.prevTranslate=0,this.startPosition=0,this.targetIndex=0,this.flyoutHandler=()=>{this.isFlyoutVisible=!this.isFlyoutVisible;this.mainWrapper.querySelector(" .current").classList.toggle("flyout-open"),this.isFlyoutVisible?(this.zoomDiv.classList.add("show"),this.mainContainer.addEventListener("mousemove",this.flyoutZoom,!0),this.mainContainer.addEventListener("touchmove",this.flyoutZoom,!1),this.handlePreloadBgZoom(),this.zoomDiv.style.zIndex="100"):(this.zoomDiv.classList.remove("show"),this.zoomDiv.style.backgroundImage="unset",this.mainContainer.removeEventListener("mousemove",this.flyoutZoom,!0),this.mainContainer.removeEventListener("touchmove",this.flyoutZoom,!1),this.zoomDiv.style.zIndex="-1")},this.flyoutZoom=t=>{t.preventDefault(),this.zoomDiv.style.backgroundPosition=c.zoom(t)},this.handlePreloadBgZoom=()=>{const t=this.mainWrapper.querySelector(" .current img");if(this.options.piioDomainKey){let e=t.getAttribute("data-image-zoom");e||(e=t.getAttribute("data-image")),this.zoomDiv.style.backgroundImage=`url(${e})`}else this.zoomDiv.style.backgroundImage=`url(${t.src})`},this.inlineEnterHandler=t=>{this.mainWrapper.querySelector(this.options.gallerySelector+" .current").classList.add("inline-open"),this.zoomDiv.classList.add("show"),this.handlePreloadBgZoom(),this.inlineZoom(t),this.zoomDiv.addEventListener("mousemove",this.inlineZoom,!1),this.zoomDiv.addEventListener("touchmove",this.inlineZoom,!1)},this.inlineLeaveHandler=t=>{this.mainWrapper.querySelector(this.options.gallerySelector+" .current").classList.remove("inline-open"),this.zoomDiv.classList.remove("show"),this.zoomDiv.removeEventListener("mousemove",this.inlineZoom,!1),this.zoomDiv.removeEventListener("touchmove",this.inlineZoom,!1),this.zoomDiv.style.backgroundImage="unset",this.zoomDiv.style.backgroundPosition="unset"},this.inlineZoom=t=>{t.preventDefault(),this.zoomDiv.style.backgroundPosition=c.zoom(t)},this.setZoomDivDimension=()=>{if(this.zoomDiv){if(this.zoomDiv.style.width=this.imageWidth+"px","string"==typeof this.options.aspectRatio&&this.options.aspectRatio.includes(":")){const t=this.options.aspectRatio.split(":");this.imageHeight=this.imageWidth/parseInt(t[0],10)*parseInt(t[1],10),this.zoomDiv.style.height=this.imageHeight+"px"}else"object"==typeof this.options.aspectRatio&&null!==this.options.aspectRatio?(this.imageHeight=this.options.aspectRatio.height,this.zoomDiv.style.height=this.imageHeight+"px"):(this.imageHeight=this.imageWidth,this.zoomDiv.style.height=this.imageHeight+"px");this.gallery.style.position="relative",this.zoomDiv.style.position="absolute"}},this.options=t,this.options.piioDomainKey=void 0===t.piioDomainKey?"":t.piioDomainKey,this.options.gallerySelector=t.gallerySelector,this.options.transition=void 0===t.transition?"slide":t.transition,this.options.themeProps=void 0===t.themeProps?{background:"hsla(234, 76%, 50%, 1)",color:"hsla(0, 100%, 100%, 1)"}:{background:void 0===t.themeProps.background?"hsla(234, 76%, 50%, 1)":t.themeProps.background,color:void 0===t.themeProps.color?"hsla(0, 100%, 100%, 1)":t.themeProps.color},this.options.variantSelector=t.variantSelector,e=void 0!==this.options.responsive&&void 0!==this.options.responsive.mobile&&this.deviceWidth<764?t.responsive.mobile:void 0!==this.options.responsive&&void 0!==this.options.responsive.tablet&&this.deviceWidth<1024?t.responsive.tablet:t,this.options.aspectRatio=void 0===e.aspectRatio?"square":e.aspectRatio,this.options.carouselOffset=void 0===e.carouselOffset?15:e.carouselOffset,this.options.carouselPosition=void 0===e.carouselPosition?"bottom":e.carouselPosition,this.options.carouselStyle=void 0===e.carouselStyle?"thumbnails":e.carouselStyle,this.options.indicatorProps=void 0===e.indicatorProps?this.defaultIndicatorProps:{shape:void 0===e.indicatorProps.shape?"circle":e.indicatorProps.shape,size:void 0===e.indicatorProps.size?13:e.indicatorProps.size,spacing:void 0===e.indicatorProps.spacing?6:e.indicatorProps.spacing},this.options.mainNavigation=void 0===e.mainNavigation?"rectangle":e.mainNavigation,this.options.thumbnailProps=void 0===e.thumbnailProps?this.defaultThumbnailProps:{height:void 0===e.thumbnailProps.height?70:e.thumbnailProps.height,margin:void 0===e.thumbnailProps.margin?10:e.thumbnailProps.margin,navigationShape:void 0===e.thumbnailProps.navigationShape?"rectangle":e.thumbnailProps.navigationShape,selectedBorderPosition:void 0===e.thumbnailProps.selectedBorderPosition?this.options.carouselPosition:e.thumbnailProps.selectedBorderPosition,selectedBorderWidth:void 0===e.thumbnailProps.selectedBorderWidth?3:e.thumbnailProps.selectedBorderWidth,selectedStyle:void 0===e.thumbnailProps.selectedStyle?"overlay":e.thumbnailProps.selectedStyle,width:void 0===e.thumbnailProps.width?70:e.thumbnailProps.width},this.options.zoomProps=void 0===e.zoomProps?this.defaultZoomProps:{position:void 0===e.zoomProps.position?"right":e.zoomProps.position,ratio:void 0===e.zoomProps.ratio?2:e.zoomProps.ratio,type:void 0===e.zoomProps.type?"inline":e.zoomProps.type}}render(){document.querySelector(""+this.options.gallerySelector)&&(this.options.piioDomainKey&&void 0===window.piio?setTimeout(()=>{this.render()},10):void 0!==this.options.variantSelector?(this.variantSelector=document.querySelector(""+this.options.variantSelector),this.variantsArray=Array.from(this.variantSelector.children),this.variantSelector.addEventListener("click",t=>{const e=t.target.closest("[data-list]");if(!e)return;const i=this.variantsArray.findIndex(t=>t===e);this.start(i)}),this.start(0)):this.start())}start(t){let e;if(this.gallery=document.querySelector(""+this.options.gallerySelector),e=void 0!==this.options.variantSelector?Array.from(this.variantsArray[t].querySelectorAll("[data-image]")):Array.from(this.gallery.children),this.mainWrapper=document.createElement("div"),this.mainWrapper.classList.add("main-wrapper"),e.forEach((t,e)=>{const i=document.createElement("div");if(i.setAttribute("data-gallery","item-"+e),i.setAttribute("class",0===e?"current":""),void 0!==this.options.variantSelector){const e=t.cloneNode(!0);i.appendChild(e)}else i.appendChild(t);this.mainWrapper.appendChild(i)}),this.galleryContainer=document.createElement("div"),this.galleryContainer.classList.add("gallery-container"),this.imageContainer=document.createElement("div"),this.imageContainer.classList.add("main-img"),this.mainContainer=document.createElement("div"),this.mainContainer.classList.add("main-container"),this.contextMenu=document.createElement("div"),this.contextMenu.classList.add("context-menu"),this.mainContainer.appendChild(this.mainWrapper),this.imageContainer.appendChild(this.mainContainer),this.galleryContainer.appendChild(this.imageContainer),this.gallery.innerHTML=" ",this.gallery.appendChild(this.galleryContainer),this.gallery.appendChild(this.contextMenu),"indicators"===this.options.carouselStyle)this.carouselOffset=document.createElement("div"),this.carouselOffset.classList.add("carousel-offset"),this.navIndicators=document.createElement("div"),this.navIndicators.classList.add("navIndicators"),this.galleryContainer.appendChild(this.carouselOffset),this.galleryContainer.appendChild(this.navIndicators);else if("none"!==this.options.carouselStyle){if(this.carouselOffset=document.createElement("div"),this.carouselOffset.classList.add("carousel-offset"),this.carousel=document.createElement("div"),this.carousel.classList.add("carousel"),this.carouselSlider=document.createElement("div"),this.carouselSlider.classList.add("carousel-slider"),this.carouselWrapper=document.createElement("div"),this.carouselWrapper.classList.add("carousel-wrapper"),this.galleryContainer.appendChild(this.carouselOffset),this.carouselSlider.appendChild(this.carouselWrapper),this.carousel.appendChild(this.carouselSlider),"none"!==this.options.thumbnailProps.navigationShape){const t=this.createPrevSvg();this.prevCarouselButton=document.createElement("button"),this.prevCarouselButton.classList.add("arrow"),this.prevCarouselButton.classList.add("prev-arrow"),this.prevCarouselButton.setAttribute("type","button"),this.prevCarouselButton.setAttribute("id","prevCarousel"),this.prevCarouselButton.setAttribute("style","display:none"),this.prevCarouselButton.appendChild(t),this.carousel.appendChild(this.prevCarouselButton);const e=this.createNextSvg();this.nextCarouselButton=document.createElement("button"),this.nextCarouselButton.classList.add("arrow"),this.nextCarouselButton.classList.add("next-arrow"),this.nextCarouselButton.setAttribute("type","button"),this.nextCarouselButton.setAttribute("id","nextCarousel"),this.nextCarouselButton.appendChild(e),this.carousel.appendChild(this.nextCarouselButton)}this.galleryContainer.appendChild(this.carousel)}if(this.images=document.querySelectorAll(this.options.gallerySelector+" [data-image]"),this.images.forEach((t,e)=>{const i=t.getAttribute("data-image");if("indicators"===this.options.carouselStyle){const t=document.createElement("div");t.setAttribute("class",0===e?"active":""),t.classList.add("indicator"),this.navIndicators.appendChild(t)}else if("thumbnails"===this.options.carouselStyle){const t=document.createElement("img");t.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA"),t.setAttribute("data-image",i);const s=document.createElement("div");s.classList.add("imgThumb-wrapper");const o=document.createElement("div");o.setAttribute("class",0===e?"active":""),o.classList.add("slide"),s.appendChild(t),o.appendChild(s),this.carouselWrapper.appendChild(o)}}),"none"!==this.options.transition&&this.galleryContainer.setAttribute("data-transition",this.options.transition),"none"!==this.options.mainNavigation){const t=this.createPrevSvg();t.setAttribute("height","24px"),t.setAttribute("width","24px"),this.prevMainButton=document.createElement("button"),this.prevMainButton.classList.add("arrow"),this.prevMainButton.classList.add("prev-arrow"),this.prevMainButton.setAttribute("type","button"),this.prevMainButton.setAttribute("id","prevMainButton"),this.prevMainButton.setAttribute("style","display:none"),this.prevMainButton.appendChild(t),this.imageContainer.appendChild(this.prevMainButton);const e=this.createNextSvg();e.setAttribute("height","24px"),e.setAttribute("width","24px"),this.nextMainButton=document.createElement("button"),this.nextMainButton.classList.add("arrow"),this.nextMainButton.classList.add("next-arrow"),this.nextMainButton.setAttribute("type","button"),this.nextMainButton.setAttribute("id","nextMainButton"),this.nextMainButton.appendChild(e),this.imageContainer.appendChild(this.nextMainButton)}if(this.deviceWidth=window.innerWidth,!document.querySelector(this.options.gallerySelector+" [data-gallery] a"))if("popup"===this.options.zoomProps.type){this.galleryContainer.setAttribute("data-zoom","popup");const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("viewBox","0 0 23 23"),t.setAttribute("fill","none");const e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d","M21.5147 21.5147L1.51471 1.51471"),e.setAttribute("stroke","currentColor"),e.setAttribute("stroke-width","2"),e.setAttribute("stroke-linecap","round");const i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d","M1.51469 21.5147L21.5147 1.51471"),i.setAttribute("stroke","currentColor"),i.setAttribute("stroke-width","2"),i.setAttribute("stroke-linecap","round"),t.appendChild(e),t.appendChild(i),this.popupClose=document.createElement("span"),this.popupClose.classList.add("popup-close"),this.popupImage=document.createElement("img"),this.popupImage.classList.add("popup-image"),this.popup=document.createElement("div"),this.popup.classList.add("popup"),this.popupClose.appendChild(t),this.popup.appendChild(this.popupClose),this.popup.appendChild(this.popupImage),this.gallery.appendChild(this.popup)}else"flyout"===this.options.zoomProps.type?(this.createZoomDiv(),this.deviceWidth<992?this.galleryContainer.setAttribute("data-zoom","inline"):this.galleryContainer.setAttribute("data-zoom","flyout")):"none"!==this.options.zoomProps.type&&(this.galleryContainer.setAttribute("data-zoom","inline"),this.createZoomDiv());setTimeout(()=>{this.prevMainButton&&this.prevMainButton.classList.add("show"),this.nextMainButton&&this.nextMainButton.classList.add("show"),this.prevCarouselButton&&this.prevCarouselButton.classList.add("show"),this.nextCarouselButton&&this.nextCarouselButton.classList.add("show")},500),this.launchGallery()}createNextSvg(){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("fill","none"),t.setAttribute("viewBox","0 0 24 24");const e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d","M9 18L15 12L9 6"),e.setAttribute("stroke","currentColor"),e.setAttribute("stroke-width","2px"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-linejoin","round"),t.appendChild(e),t}createPrevSvg(){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("viewBox","0 0 24 24"),t.setAttribute("fill","none");const e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d","M15 18L9 12L15 6"),e.setAttribute("stroke","currentColor"),e.setAttribute("stroke-width","2px"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-linejoin","round"),t.appendChild(e),t}createZoomDiv(){this.zoomDiv=document.createElement("div"),this.zoomDiv.classList.add("display-zoom"),this.imageContainer.appendChild(this.zoomDiv)}getcarouselSliderScreenSize(){if(!this.carouselSlider)return;return this.isSliderVertical?parseInt(this.imageContainer.style.height,10):parseInt(this.imageContainer.style.width,10)}getCarouselWrapperDimension(){return this.carouselSlides.length*this.carouselSlideSize}getMainImageWidth(){let t;const e=this.gallery.getBoundingClientRect().width;return t="thumbnails"===this.options.carouselStyle?this.isSliderVertical?e-this.options.carouselOffset-this.options.thumbnailProps.width:e:"indicators"===this.options.carouselStyle&&this.isSliderVertical?e-this.options.carouselOffset-this.options.indicatorProps.size-2*this.options.indicatorProps.spacing:e,t}getPiioImages(){const t=window.piio.getPiioElements(this.images);window.piio.getPiioImages(t,this.options.zoomProps.ratio)}getThumbsInSight(){return Math.floor(this.getcarouselSliderScreenSize()/(this.thumbImageSize+this.options.thumbnailProps.margin))}keepThumbSelectedOnSight(t){if(this.areAllThumbsInSight)return;const e=this.gallery.querySelector(".active .imgThumb-wrapper").getBoundingClientRect(),i=this.carouselSlider.getBoundingClientRect();if(e.right>i.right||e.left<i.left||e.top<i.top||e.bottom>i.bottom){h.default(this.carouselWrapper,e.width,t,this.carouselSlider,this.options.thumbnailProps.margin,this.isSliderVertical),"none"!==this.options.thumbnailProps.navigationShape&&n.default(this.areAllThumbsInSight,this.carousel,this.options.thumbnailProps.margin),this.carouselCounter=t;for(let e=t+1;e<t+this.thumbsInSight+1;e++)this.loadImage(this.thumbImages[e],{type:"thumbnail"})}}loadImage(t,{type:e}){if(void 0===t)return;if("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA"!==t.getAttribute("src"))return;const i=t.getAttribute("data-image");t.src=i,this.options.piioDomainKey&&window.piio&&window.piio.onLoadImage(t,i)}loadThumbnailImagesInSight(){this.thumbImages=document.querySelectorAll(this.options.gallerySelector+" .imgThumb-wrapper img"),this.thumbsInSight=this.getThumbsInSight();const t=this.thumbsInSight<this.thumbImages.length?this.thumbsInSight+1:this.thumbsInSight;for(let e=0;e<t;e++)this.loadImage(this.thumbImages[e],{type:"thumbnail"})}setCarouselDimension(){const t=this.getCarouselWrapperDimension();this.isSliderVertical?(this.carouselSlider.style.height=""+this.imageContainer.style.height,this.carouselWrapper.style.height=t+"px"):this.carouselWrapper.style.width=t+"px"}setNavIndicatorsDimension(){this.isSliderVertical?this.navIndicators.style.height=""+this.imageContainer.style.height:this.navIndicators.style.width=this.getMainImageWidth()+"px"}setPositionByIndexInMainSlider(t){t&&(this.targetIndex=t),t<this.images.length&&this.loadImage(this.images[t],{type:"main"}),this.currentTranslate=this.targetIndex*-this.imageWidth,this.prevTranslate=this.currentTranslate;const e=this.mainWrapper.querySelector(this.options.gallerySelector+" .current"),i=l.default(e,this.targetIndex,this.mainSlides);if(d.default(this.mainWrapper,e,i,this.targetIndex,this.imageWidth,this.contextMenu,this.openImageText),"thumbnails"===this.options.carouselStyle){const t=this.carouselWrapper.querySelector(this.options.gallerySelector+" .active"),e=l.default(t,this.targetIndex,this.carouselSlides),i=this.carouselSlides.findIndex(t=>t===e),s=i<this.carouselSlides.length-1?i+1:this.carouselSlides.length-1;p.default(t,e,this.options.thumbnailProps.selectedStyle,this.options.thumbnailProps.selectedBorderPosition,this.options),this.keepThumbSelectedOnSight(this.targetIndex),this.loadImage(this.thumbImages[s],{type:"thumbnail"})}if("indicators"===this.options.carouselStyle){this.currentIndicator=this.navIndicators.querySelector(" .active");const t=Array.from(this.navIndicators.children),e=l.default(this.currentIndicator,this.targetIndex,t);p.default(this.currentIndicator,e,this.options.thumbnailProps.selectedStyle,this.options.thumbnailProps.selectedBorderPosition,this.options)}}setSliderDimensions(){if(this.imageWidth=this.getMainImageWidth(),"string"==typeof this.options.aspectRatio&&this.options.aspectRatio.includes(":")){const t=this.options.aspectRatio.split(":"),e=this.imageWidth/parseInt(t[0],10)*parseInt(t[1],10);this.imageContainer.style.height=e+"px",this.mainWrapper.style.height=e+"px"}else"object"==typeof this.options.aspectRatio&&null!==this.options.aspectRatio?(this.imageContainer.style.height=this.options.aspectRatio.height+"px",this.mainWrapper.style.height=this.options.aspectRatio.height+"px"):(this.imageContainer.style.height=this.imageWidth+"px",this.mainWrapper.style.height=this.imageWidth+"px");this.imageContainer.style.width=this.imageWidth+"px",this.mainWrapper.style.width=this.imageWidth*this.mainSlides.length+"px"}setZoom(){this.zoomDiv&&(this.imageWidth=this.getMainImageWidth(),"none"!==this.options.zoomProps.type?this.imageContainer.style.cursor="zoom-in":this.imageContainer.style.cursor="grab",document.querySelector(this.options.gallerySelector+" [data-zoom=popup]")?(this.mainContainer.addEventListener("click",()=>{const t=this.mainWrapper.querySelector(this.options.gallerySelector+" .current img");this.popup.classList.add("open"),this.popupImage.setAttribute("src",""+t.getAttribute("data-image"))}),this.popupClose.addEventListener("click",()=>{this.popup.querySelector(" .popup-image").setAttribute("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA"),this.popup.classList.remove("open")})):document.querySelector(this.options.gallerySelector+" [data-zoom=flyout]")&&this.deviceWidth>=992?(this.isFlyoutVisible=!1,this.setZoomDivDimension(),"left"===this.options.zoomProps.position?(this.zoomDiv.style.left=`-${this.imageWidth}px`,this.zoomDiv.style.top="0px"):"top"===this.options.zoomProps.position?(this.zoomDiv.style.left="0px",this.zoomDiv.style.top=`-${this.imageHeight}px`):"bottom"===this.options.zoomProps.position?(this.zoomDiv.style.left="0px",this.zoomDiv.style.top=this.imageHeight+"px"):(this.zoomDiv.style.left=this.imageWidth+"px",this.zoomDiv.style.top="0px"),this.mainContainer.addEventListener("pointerover",this.handlePreloadBgZoom,!1),this.mainContainer.addEventListener("touchstart",this.handlePreloadBgZoom,!1),this.mainContainer.addEventListener("mouseover",this.handlePreloadBgZoom,!1),this.mainContainer.addEventListener("click",this.flyoutHandler,!1),window.addEventListener("click",t=>{const e=t.target,i=this.mainContainer.contains(e),s=this.mainWrapper.querySelector(this.options.gallerySelector+" .current");!i&&document.querySelector(this.options.gallerySelector+" [data-zoom=flyout]")&&this.isFlyoutVisible&&(this.isFlyoutVisible=!1,s.classList.remove("flyout-open"),this.zoomDiv.classList.remove("show"),this.mainContainer.removeEventListener("mousemove",this.flyoutZoom,!0))})):"none"!==this.options.zoomProps.type&&(this.setZoomDivDimension(),this.zoomDiv.style.left="0px",this.zoomDiv.style.top="0px",this.zoomDiv.style.zIndex="1",this.mainContainer.addEventListener("pointerover",this.handlePreloadBgZoom,!1),this.mainContainer.addEventListener("touchstart",this.handlePreloadBgZoom,!1),this.mainContainer.addEventListener("mouseover",this.handlePreloadBgZoom,!1),this.mainContainer.addEventListener("click",this.inlineEnterHandler,!1),this.zoomDiv.addEventListener("click",this.inlineLeaveHandler,!1),window.addEventListener("click",t=>{const e=t.target,i=this.mainContainer.contains(e),s=this.mainWrapper.querySelector(this.options.gallerySelector+" .current");i||"none"!==this.options.zoomProps.type&&(s.classList.remove("inline-open"),this.zoomDiv.style.backgroundImage="unset",this.zoomDiv.classList.remove("show"),this.mainContainer.removeEventListener("mousemove",this.inlineZoom,!1))})))}launchGallery(){this.mainSlides=Array.from(this.mainWrapper.querySelectorAll(" [data-gallery]")),"left"===this.options.carouselPosition||"right"===this.options.carouselPosition?this.isSliderVertical=!0:this.isSliderVertical=!1,this.imageWidth=this.getMainImageWidth(),this.setSliderDimensions();const t=this.options.themeProps.background;if(t.includes("hsl")||t.includes("hsla")){const e=t.split(","),i=parseInt(e[2].split("%")[0],10);i>=50?t.includes("hsla")?(this.hoverBackgroundColor=`${e[0]},${e[1]}, ${i-20}%,${e[3]}`,this.focusBackgroundColor=`${e[0]},${e[1]}, ${i-30}%,${e[3]}`):(this.hoverBackgroundColor=`${e[0]},${e[1]}, ${i-20}%)`,this.focusBackgroundColor=`${e[0]},${e[1]}, ${i-30}%)`):t.includes("hsla")?(this.hoverBackgroundColor=`${e[0]},${e[1]}, ${i+20}%,${e[3]}`,this.focusBackgroundColor=`${e[0]},${e[1]}, ${i+10}%,${e[3]}`):(this.hoverBackgroundColor=`${e[0]},${e[1]}, ${i+20}%)`,this.focusBackgroundColor=`${e[0]},${e[1]}, ${i+10}%)`)}const e=document.querySelector(this.options.gallerySelector);e.style.setProperty("--main-color",this.options.themeProps.color),e.style.setProperty("--bg-color",this.options.themeProps.background),e.style.setProperty("--bg-hover-color",this.hoverBackgroundColor),e.style.setProperty("--bg-focus-color",this.focusBackgroundColor),this.mainContainer.oncontextmenu=t=>{t.preventDefault();const e=t.clientX,i=t.clientY;this.contextMenu.style.top=i+"px",this.contextMenu.style.left=e+"px",this.contextMenu.classList.add("visible")},window.addEventListener("click",t=>{t.target.offsetParent!==this.contextMenu&&this.contextMenu.classList.remove("visible")});const i=navigator.language.split("-"),s=i.shift(),l=i.pop();if(void 0!==o.default[s]){const t=o.default[s];if(void 0!==l&&t.hasOwnProperty(l))this.openImageText=t[l].OpenImage;else{const e=Object.keys(t)[0];this.openImageText=t[e].OpenImage}}else this.openImageText=o.default.en.US.OpenImage;const c=this.images[0].getAttribute("data-image"),m=document.createElement("a");m.classList.add("item"),m.setAttribute("target","_blank"),m.setAttribute("rel","noopener noreferrer"),m.setAttribute("href",c),m.classList.add("item");const g=document.createTextNode(this.openImageText);if(m.appendChild(g),this.contextMenu.appendChild(m),this.carouselCounter=0,"none"!==this.options.mainNavigation){this.prevMainButton.classList.add("btn-main-"+this.options.mainNavigation),this.nextMainButton.classList.add("btn-main-"+this.options.mainNavigation),this.mainSlides.length<=1&&(this.prevMainButton.style.display="none",this.nextMainButton.style.display="none");const t=()=>{const t=this.mainWrapper.querySelector(".current").previousElementSibling,e=this.mainSlides.findIndex(e=>e===t);e>0&&this.loadImage(this.images[e],{type:"main"})};window.PointerEvent?this.prevMainButton.addEventListener("pointerover",t,!1):(this.prevMainButton.addEventListener("touchstart",t,!1),this.prevMainButton.addEventListener("mouseover",t,!1)),this.prevMainButton.addEventListener("click",t=>{const e=this.mainWrapper.querySelector(this.options.gallerySelector+" .current"),i=e.previousElementSibling,s=this.mainSlides.findIndex(t=>t===i);if(s>0&&this.loadImage(this.images[s],{type:"main"}),d.default(this.mainWrapper,e,i,s,this.imageWidth,this.contextMenu,this.openImageText),r.default(this.mainSlides,this.prevMainButton,this.nextMainButton,s),"fade"===this.options.transition&&a.default(this.gallery),"slide"===this.options.transition&&u.default(this.gallery),this.mainWrapper.querySelector(" .inline-open")&&e.classList.toggle("inline-open"),this.mainContainer.style.backgroundImage="unset","thumbnails"===this.options.carouselStyle){const t=this.carouselWrapper.querySelector(" .active"),e=t.previousElementSibling;p.default(t,e,this.options.thumbnailProps.selectedStyle,this.options.thumbnailProps.selectedBorderPosition,this.options),this.keepThumbSelectedOnSight(s)}"indicators"===this.options.carouselStyle&&(this.currentIndicator=this.navIndicators.querySelector(" .active"),this.prevIndicator=this.currentIndicator.previousElementSibling,p.default(this.currentIndicator,this.prevIndicator,this.options.thumbnailProps.selectedStyle,this.options.thumbnailProps.selectedBorderPosition,this.options))});const e=()=>{this.currentSlide=this.mainWrapper.querySelector(" .current"),this.nextSlide=this.currentSlide.nextElementSibling,this.nextIndex=this.mainSlides.findIndex(t=>t===this.nextSlide),this.nextIndex<this.images.length&&this.loadImage(this.images[this.nextIndex],{type:"main"})};window.PointerEvent?this.nextMainButton.addEventListener("pointerover",e,!1):(this.nextMainButton.addEventListener("touchstart",e,!1),this.nextMainButton.addEventListener("mouseover",e,!1)),this.nextMainButton.addEventListener("click",t=>{const e=this.mainWrapper.querySelector(this.options.gallerySelector+" .current"),i=e.nextElementSibling;if(this.nextIndex=this.mainSlides.findIndex(t=>t===i),this.nextIndex>0&&this.loadImage(this.images[this.nextIndex],{type:"main"}),d.default(this.mainWrapper,e,i,this.nextIndex,this.imageWidth,this.contextMenu,this.openImageText),r.default(this.mainSlides,this.prevMainButton,this.nextMainButton,this.nextIndex),"fade"===this.options.transition&&a.default(this.gallery),"slide"===this.options.transition&&u.default(this.gallery),this.mainWrapper.querySelector(" .inline-open")&&this.currentSlide.classList.toggle("inline-open"),this.mainContainer.style.backgroundImage="unset","thumbnails"===this.options.carouselStyle){const t=this.carouselWrapper.querySelector(" .active"),e=t.nextElementSibling,i=Array.from(this.carouselWrapper.querySelectorAll(".slide")),s=i.findIndex(t=>t===e),o=s<i.length-1?s+1:i.length-1;p.default(t,e,this.options.thumbnailProps.selectedStyle,this.options.thumbnailProps.selectedBorderPosition,this.options),this.keepThumbSelectedOnSight(this.nextIndex),this.loadImage(this.thumbImages[o],{type:"thumbnail"})}if("indicators"===this.options.carouselStyle){this.currentIndicator=this.navIndicators.querySelector(" .active");const t=this.currentIndicator.nextElementSibling;p.default(this.currentIndicator,t,this.options.thumbnailProps.selectedStyle,this.options.thumbnailProps.selectedBorderPosition,this.options)}})}function y(t){return t.type.includes("touch")?t.touches[0].clientX:t.pageX}function v(t){return t.type.includes("touch")?t.touches[0].clientY:t.pageY}this.gallery.addEventListener("dragstart",t=>t.preventDefault()),this.startPosition=0,this.currentTranslate=0,this.prevTranslate=0,this.targetIndex=0;const S=t=>e=>{this.targetIndex=t,this.startPosition=y(e),this.isMainSliderSwiping=!0},f=t=>{if(this.isMainSliderSwiping){const e=y(t);this.currentTranslate=this.prevTranslate+e-this.startPosition}},b=t=>{const e=y(t);if(!(document.querySelector(this.options.gallerySelector+" [data-zoom=flyout]")&&this.deviceWidth<992&&document.querySelector(this.options.gallerySelector+" .inline-open")||document.querySelector(this.options.gallerySelector+" [data-zoom=inline]")&&document.querySelector(this.options.gallerySelector+" .inline-open")||document.querySelector(this.options.gallerySelector+" [data-zoom=flyout]")&&document.querySelector(this.options.gallerySelector+" .flyout-open"))){if(Math.abs(e-this.startPosition)>=10){if(this.hasCursorMoved=!0,(document.querySelector(this.options.gallerySelector+" [data-zoom=inline]")||document.querySelector(this.options.gallerySelector+" [data-zoom=flyout]")||document.querySelector(this.options.gallerySelector+" [data-zoom=popup]"))&&!window.matchMedia("(pointer: coarse)").matches){const t=e=>{e.stopPropagation(),this.imageContainer.removeEventListener("click",t,!0)};this.imageContainer.addEventListener("click",t,!0)}"slide"===this.options.transition&&u.default(this.gallery);const t=this.currentTranslate-this.prevTranslate;t<-10&&this.targetIndex<this.mainSlides.length-1&&(this.targetIndex+=1),t>10&&this.targetIndex>0&&(this.targetIndex-=1),this.setPositionByIndexInMainSlider(this.targetIndex),"fade"===this.options.transition&&a.default(this.gallery),"none"!==this.options.mainNavigation&&r.default(this.mainSlides,this.prevMainButton,this.nextMainButton,this.targetIndex)}else this.hasCursorMoved=!1;this.isMainSliderSwiping=!1}};if(this.mainSlides.forEach((t,e)=>{if(t.addEventListener("dragstart",t=>t.preventDefault()),document.querySelector(this.options.gallerySelector+" [data-gallery] a")){const t=document.querySelector(this.options.gallerySelector+` [data-gallery=item-${e}] a`);t&&(t.onclick=()=>{if(this.hasCursorMoved)return!1})}window.PointerEvent?(t.addEventListener("pointerdown",S(e),!1),t.addEventListener("pointermove",f,!1),t.addEventListener("pointerup",b,!1),t.addEventListener("pointercancel",b,!1)):(t.addEventListener("touchdown",S(e),!1),t.addEventListener("touchmove",f,!1),t.addEventListener("touchup",b,!1),t.addEventListener("touchcancel",b,!1),t.addEventListener("mousedown",S(e),!1),t.addEventListener("mousemove",f,!1),t.addEventListener("mouseup",b,!1))}),this.setZoom(),"thumbnails"!==this.options.carouselStyle&&"indicators"!==this.options.carouselStyle||(this.isSliderVertical?(this.galleryContainer.classList.add(this.options.carouselPosition),"thumbnails"===this.options.carouselStyle?this.carouselWrapper.style.flexDirection="column":this.navIndicators.style.flexDirection="column",this.carouselOffset.style.width=this.options.carouselOffset+"px"):(this.galleryContainer.classList.add(this.options.carouselPosition),this.carouselOffset.style.height=this.options.carouselOffset+"px")),"thumbnails"===this.options.carouselStyle){this.carouselSlides=Array.from(this.carouselWrapper.children);const t=this.carouselWrapper.querySelectorAll(".slide .imgThumb-wrapper");this.carouselSlides.forEach((e,i)=>{const s=t[i],o=this.carouselWrapper.querySelectorAll(".slide")[i];s.style.width=this.options.thumbnailProps.width+"px",s.style.height=this.options.thumbnailProps.height+"px",o.style.height=this.isSliderVertical?this.options.thumbnailProps.height+this.options.thumbnailProps.margin+"px":this.options.thumbnailProps.height+"px"}),this.thumbImageSize=this.isSliderVertical?this.options.thumbnailProps.height:this.options.thumbnailProps.width,this.carouselSlideSize=this.thumbImageSize+this.options.thumbnailProps.margin,this.setCarouselDimension(),this.options.piioDomainKey&&window.piio&&this.getPiioImages(),this.loadThumbnailImagesInSight(),this.gallery.style.setProperty("--thumbBorderWidth",this.options.thumbnailProps.selectedBorderWidth+"px");const e=this.carouselWrapper.querySelector(".active").querySelector(".imgThumb-wrapper");"border"===this.options.thumbnailProps.selectedStyle?e.classList.add("border-"+this.options.thumbnailProps.selectedBorderPosition):e.classList.add("overlay"),this.carouselSlider.addEventListener("mouseover",t=>{const e=t.target.closest(".slide");e&&(this.targetIndex=this.carouselSlides.findIndex(t=>t===e),this.loadImage(this.images[this.targetIndex],{type:"main"}))}),this.carouselSliderScreenSize=this.getcarouselSliderScreenSize();this.getCarouselWrapperDimension()<this.carouselSliderScreenSize&&(this.areAllThumbsInSight=!0),this.carouselSlider.addEventListener("click",t=>{this.mainWrapper.querySelector(" .inline-open")?this.mainWrapper.querySelector(" .inline-open").classList.remove("inline-open"):this.mainWrapper.querySelector(" .flyout-open")&&this.mainWrapper.querySelector(" .flyout-open").classList.remove("flyout-open");const e=t.target.closest(".slide");if(!e)return;this.currentSlide=this.mainWrapper.querySelector(" .current");const i=this.carouselWrapper.querySelector(" .active");this.targetIndex=this.carouselSlides.findIndex(t=>t===e);const s=this.mainSlides[this.targetIndex];this.loadImage(this.thumbImages[this.targetIndex+1],{type:"thumbnail"}),d.default(this.mainWrapper,this.currentSlide,s,this.targetIndex,this.imageWidth,this.contextMenu,this.openImageText),"none"!==this.options.mainNavigation&&r.default(this.mainSlides,this.prevMainButton,this.nextMainButton,this.targetIndex),p.default(i,e,this.options.thumbnailProps.selectedStyle,this.options.thumbnailProps.selectedBorderPosition,this.options),"fade"===this.options.transition&&a.default(this.gallery),"slide"===this.options.transition&&u.default(this.gallery)});const i=()=>{this.loadedThumbs=this.carouselWrapper.querySelectorAll('img:not([src*="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA"])'),this.loadedThumbs.length<=this.thumbImages.length&&this.loadImage(this.thumbImages[this.loadedThumbs.length],{type:"thumbnail"})};if("none"!==this.options.thumbnailProps.navigationShape){if(this.prevCarouselButton.classList.add("btn-carousel-"+this.options.thumbnailProps.navigationShape),this.nextCarouselButton.classList.add("btn-carousel-"+this.options.thumbnailProps.navigationShape),this.isSliderVertical)if("circle"===this.options.thumbnailProps.navigationShape||"radius"===this.options.thumbnailProps.navigationShape)this.prevCarouselButton.style.transform="translateX(25%) rotate(90deg)",this.prevCarouselButton.style.transformOrigin="top left",this.prevCarouselButton.style.top="0px",this.prevCarouselButton.style.left="50%",this.nextCarouselButton.style.top="unset",this.nextCarouselButton.style.bottom="0px",this.nextCarouselButton.style.right="50%",this.nextCarouselButton.style.transform="translateX(-25%) rotate(90deg)",this.nextCarouselButton.style.transformOrigin="right bottom";else if("square"===this.options.thumbnailProps.navigationShape)this.prevCarouselButton.style.transform="translateX(50%) rotate(90deg)",this.prevCarouselButton.style.transformOrigin="top left",this.prevCarouselButton.style.top="0px",this.prevCarouselButton.style.left="50%",this.nextCarouselButton.style.top="unset",this.nextCarouselButton.style.bottom="0px",this.nextCarouselButton.style.right="50%",this.nextCarouselButton.style.transform="translateX(-50%) rotate(90deg)",this.nextCarouselButton.style.transformOrigin="right bottom";else{const t=this.prevCarouselButton.querySelector(" svg"),e=this.nextCarouselButton.querySelector(" svg");this.prevCarouselButton.style.height="24px",this.prevCarouselButton.style.top="0px",this.prevCarouselButton.style.transform="unset",this.prevCarouselButton.style.width="100%",t.style.transform="rotate(90deg)",this.nextCarouselButton.style.height="24px",this.nextCarouselButton.style.width="100%",this.nextCarouselButton.style.top="unset",this.nextCarouselButton.style.transform="unset",this.nextCarouselButton.style.bottom="0px",e.style.transform="rotate(90deg)"}const t=this.isSliderVertical?parseInt(this.carouselWrapper.style.height,10):parseInt(this.carouselWrapper.style.width,10);this.areAllThumbsInSight||this.carouselSlides.length<=1?(this.prevCarouselButton.style.display="none",this.nextCarouselButton.style.display="none"):t<this.carouselSliderScreenSize&&(this.nextCarouselButton.style.display="none"),this.prevCarouselButton.addEventListener("click",()=>{this.carouselCounter>0&&this.carouselCounter--,h.default(this.carouselWrapper,this.thumbImageSize,this.carouselCounter,this.carouselSlider,this.options.thumbnailProps.margin,this.isSliderVertical),"none"!==this.options.thumbnailProps.navigationShape&&n.default(this.areAllThumbsInSight,this.carousel,this.options.thumbnailProps.margin)}),window.PointerEvent?this.nextCarouselButton.addEventListener("pointerover",i,!1):(this.nextCarouselButton.addEventListener("touchstart",i,!1),this.nextCarouselButton.addEventListener("mouseover",i,!1)),this.nextCarouselButton.addEventListener("click",()=>{i(),this.carouselCounter+this.thumbsInSight<=this.carouselSlides.length+1&&this.carouselCounter++,h.default(this.carouselWrapper,this.thumbImageSize,this.carouselCounter,this.carouselSlider,this.options.thumbnailProps.margin,this.isSliderVertical),"none"!==this.options.thumbnailProps.navigationShape&&n.default(this.areAllThumbsInSight,this.carousel,this.options.thumbnailProps.margin)})}let s=!1,o=0,l=0,c=0;const m=t=>t=>{o=this.isSliderVertical?v(t):y(t),s=!0;const e=window.getComputedStyle(this.carouselWrapper).getPropertyValue("transform");"none"!==e&&(l=this.isSliderVertical?parseInt(e.split(",")[5].trim(),10):parseInt(e.split(",")[4].trim(),10))},g=t=>{if(s){const e=this.isSliderVertical?v(t):y(t);c=e-o}},S=t=>{const e=this.isSliderVertical?v(t):y(t);if(Math.abs(e-o)>=10){const t=l+c;t<l&&this.carouselCounter<this.carouselSlides.length-this.thumbsInSight+1?(this.carouselCounter++,i()):t>l&&this.carouselCounter>0&&this.carouselCounter--,h.default(this.carouselWrapper,this.thumbImageSize,this.carouselCounter,this.carouselSlider,this.options.thumbnailProps.margin,this.isSliderVertical),"none"!==this.options.thumbnailProps.navigationShape&&n.default(this.areAllThumbsInSight,this.carousel,this.options.thumbnailProps.margin)}s=!1};this.carouselSlides.forEach((t,e)=>{t.addEventListener("dragstart",t=>t.preventDefault()),window.PointerEvent?(t.addEventListener("pointerdown",m(e),!0),t.addEventListener("pointermove",g,!0),t.addEventListener("pointerup",S,!0),t.addEventListener("pointercancel",S,!0)):(t.addEventListener("touchdown",m(e),!0),t.addEventListener("touchmove",g,!0),t.addEventListener("touchup",S,!0),t.addEventListener("touchcancel",S,!0),t.addEventListener("mousedown",m(e),!0),t.addEventListener("mousemove",g,!0),t.addEventListener("mouseup",S,!0))})}if("indicators"===this.options.carouselStyle){const t=Array.from(this.navIndicators.children);t.forEach((t,e)=>{const i=this.navIndicators.querySelectorAll(" .indicator")[e];i.classList.add("indicator-"+this.options.indicatorProps.shape),i.style.margin=this.options.indicatorProps.spacing+"px","line"===this.options.indicatorProps.shape?this.isSliderVertical?(i.style.height=this.options.indicatorProps.size+"px",i.style.width="3px"):(i.style.height="3px",i.style.width=this.options.indicatorProps.size+"px"):(i.style.height=this.options.indicatorProps.size+"px",i.style.width=this.options.indicatorProps.size+"px")}),this.setNavIndicatorsDimension(),this.navIndicators.addEventListener("click",e=>{this.mainWrapper.querySelector(" .inline-open")?this.mainWrapper.querySelector(" .inline-open").classList.remove("inline-open"):this.mainWrapper.querySelector(" .flyout-open")&&this.mainWrapper.querySelector(" .flyout-open").classList.remove("flyout-open");const i=e.target.closest(".indicator");if(!i)return;const s=this.mainWrapper.querySelector(" .current"),o=this.navIndicators.querySelector(" .active");this.targetIndex=t.findIndex(t=>t===i);const n=this.mainSlides[this.targetIndex];this.loadImage(this.images[this.targetIndex],{type:"main"}),d.default(this.mainWrapper,s,n,this.targetIndex,this.imageWidth,this.contextMenu,this.openImageText),this.prevMainButton&&this.nextMainButton&&r.default(this.mainSlides,this.prevMainButton,this.nextMainButton,this.targetIndex),p.default(o,i,this.options.thumbnailProps.selectedStyle,this.options.thumbnailProps.selectedBorderPosition,this.options),"fade"===this.options.transition&&a.default(this.gallery),"slide"===this.options.transition&&u.default(this.gallery)})}this.options.piioDomainKey&&window.piio&&this.getPiioImages(),this.loadImage(this.images[0],{type:"main"});window.addEventListener("resize",()=>{const t=this.mainWrapper.querySelector(" .current");"thumbnails"===this.options.carouselStyle&&this.setCarouselDimension(),"indicators"===this.options.carouselStyle&&this.setNavIndicatorsDimension();const e=this.deviceWidth;if(this.deviceWidth=window.innerWidth,this.setSliderDimensions(),"thumbnails"===this.options.carouselStyle&&this.loadThumbnailImagesInSight(),"flyout"===this.options.zoomProps.type&&this.zoomDiv?this.deviceWidth<992?(this.mainWrapper.querySelector(" .flyout-open")&&this.mainWrapper.querySelector(" .flyout-open").classList.remove("flyout-open"),this.mainContainer.removeEventListener("click",this.flyoutHandler,!1),this.zoomDiv.style.backgroundImage="unset",this.zoomDiv.style.backgroundPosition="unset",this.galleryContainer.setAttribute("data-zoom","inline"),this.setZoom()):this.deviceWidth>=992&&(this.mainWrapper.querySelector(" .inline-open")&&this.mainWrapper.querySelector(" .inline-open").classList.remove("inline-open"),this.mainContainer.removeEventListener("click",this.inlineEnterHandler,!1),this.zoomDiv.removeEventListener("click",this.inlineLeaveHandler,!1),this.zoomDiv.style.backgroundImage="unset",this.zoomDiv.style.backgroundPosition="unset",this.galleryContainer.setAttribute("data-zoom","flyout"),this.setZoom()):"inline"===this.options.zoomProps.type&&this.zoomDiv&&this.setZoom(),e<this.deviceWidth){const t=this.mainWrapper.querySelectorAll('img:not([src*="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA"])');t.forEach(t=>t.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA"));for(let e=0;e<t.length;e++)this.loadImage(this.images[e],{type:"main"})}this.imageWidth=this.getMainImageWidth();const i=this.mainSlides.findIndex(e=>e===t);d.default(this.mainWrapper,t,t,i,this.imageWidth,this.contextMenu,this.openImageText)})}}const g={init:t=>new m(t)};e.piioGallery=g},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(0);window.piioGallery=s.piioGallery;var o=i(0);Object.defineProperty(e,"piioGallery",{enumerable:!0,get:function(){return o.piioGallery}})},function(t){t.exports=JSON.parse('{"de":{"DE":{"OpenImage":"Originalbild in neuem Tab öffnen"}},"en":{"GB":{"OpenImage":"Open Original Image in New Tab"},"US":{"OpenImage":"Open Original Image in New Tab"}},"es":{"MX":{"OpenImage":"Abrir la Imagen Original en una Nueva Pestaña"},"ES":{"OpenImage":"Abrir la Imagen Original en una Nueva Pestaña"}},"fr":{"FR":{"OpenImage":"Ouvrir l\'image originale dans un nouvel onglet"}},"it":{"IT":{"OpenImage":"Aprire l\'immagine originale in una nuova scheda"}},"pt":{"PT":{"OpenImage":"Abrir a Imagem Original em uma Nova Guia"},"BR":{"OpenImage":"Abrir a Imagem Original em uma Nova Guia"}},"ru":{"RU":{"OpenImage":"Открыть исходное изображение в новой вкладке"}}}')},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=(t,e,i)=>{if(e){const s=e.querySelector(".carousel-slider"),o=s.querySelector(" .carousel-wrapper"),n=s.getBoundingClientRect(),r=o.getBoundingClientRect(),a=e.querySelector("#prevCarousel"),l=e.querySelector("#nextCarousel");t?(a.style.display="none",l.style.display="none"):r.bottom<=n.bottom+i&&r.top<n.top||r.right<=n.right+i&&r.left<n.left?(a.style.display="block",l.style.display="none"):r.top>=n.top&&r.bottom>n.bottom+i||r.left>=n.left&&r.right>n.right+i?(a.style.display="none",l.style.display="block"):(a.style.display="block",l.style.display="block")}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,s){0===s?(e.style.display="none",i.style.display="block"):s===t.length-1?(e.style.display="block",i.style.display="none"):(e.style.display="block",i.style.display="block")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const e=t.querySelector(".current");e.classList.add("fade-in"),setTimeout(()=>{e.classList.remove("fade-in")},500)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i){const s=i.findIndex(e=>e===t);let o;return o=s>e?t.previousElementSibling:s<e?t.nextElementSibling:t,o}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,s,o,n){const r=(e+o)*i,a=n?s.getBoundingClientRect().height:s.getBoundingClientRect().width,l=n?t.getBoundingClientRect().height:t.getBoundingClientRect().width;t.style.transform=r+a<l?n?`translateY( -${r}px)`:`translateX( -${r}px)`:n?`translateY( -${l-a-o}px)`:`translateX( -${l-a-o}px)`}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,s,o,n,r){t.style.transform=`translateX( -${o*s}px)`,e.classList.remove("current"),i.classList.add("current");const a=i.querySelector("[data-image]").getAttribute("data-image"),l=document.createElement("a");l.classList.add("item"),l.setAttribute("target","_blank"),l.setAttribute("rel","noopener noreferrer"),l.setAttribute("href",a),l.classList.add("item");const h=document.createTextNode(r);l.appendChild(h),n.innerHTML=" ",n.appendChild(l)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t.querySelector(".main-wrapper").classList.add("slide")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,s,o){const n=t.querySelector(o.gallerySelector+" .imgThumb-wrapper"),r=e.querySelector(o.gallerySelector+" .imgThumb-wrapper");t.classList.remove("active"),n&&("border"===i?n.classList.remove("border-"+s):n.classList.remove("overlay"),"border"===i?r.classList.add("border-"+s):r.classList.add("overlay")),e.classList.add("active")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.zoom=void 0;e.zoom=t=>{let e,i;e=t.clientX?t.clientX:t.touches?t.touches[0].clientX:0,i=t.clientY?t.clientY:t.touches?t.touches[0].clientY:0;const s=t.currentTarget,o=e-s.getBoundingClientRect().left,n=i-s.getBoundingClientRect().top;let r=o/s.offsetWidth*100,a=n/s.offsetHeight*100;return r=0<=r&&r<=100?r:0>r?0:100,a=0<=a&&a<=100?a:0>a?0:100,r+"%"+a+"%"}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9zcmMvdHlwZXMvZ2FsbGVyeU9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy9waWlvLWdhbGxlcnkuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9zcmMvdXRpbHMvZGlzYWJsZUNhcm91c2VsQnV0dG9ucy5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy91dGlscy9kaXNhYmxlTWFpbkJ1dHRvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9zcmMvdXRpbHMvZmFkZUluLmpzIiwid2VicGFjazovLy8uL2Rpc3Qvc3JjL3V0aWxzL2dldFRhcmdldEVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9zcmMvdXRpbHMvbW92ZUNhcm91c2VsLmpzIiwid2VicGFjazovLy8uL2Rpc3Qvc3JjL3V0aWxzL21vdmVNYWluU2xpZGVyLmpzIiwid2VicGFjazovLy8uL2Rpc3Qvc3JjL3V0aWxzL3NsaWRlLmpzIiwid2VicGFjazovLy8uL2Rpc3Qvc3JjL3V0aWxzL3VwZGF0ZU5hdkVsZW1TZWxlY3RlZC5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy91dGlscy96b29tLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX19pbXBvcnREZWZhdWx0IiwidGhpcyIsIm1vZCIsInBpaW9HYWxsZXJ5IiwibGFuZ3VhZ2VzX2pzb25fMSIsImRpc2FibGVDYXJvdXNlbEJ1dHRvbnNfMSIsImRpc2FibGVNYWluQnV0dG9uc18xIiwiZmFkZUluXzEiLCJnZXRUYXJnZXRFbGVtZW50XzEiLCJtb3ZlQ2Fyb3VzZWxfMSIsIm1vdmVNYWluU2xpZGVyXzEiLCJzbGlkZV8xIiwidXBkYXRlTmF2RWxlbVNlbGVjdGVkXzEiLCJ6b29tXzEiLCJHYWxsZXJ5Iiwib3B0aW9ucyIsInJlc3BvbnNpdmVPcHRpb24iLCJkZWZhdWx0SW5kaWNhdG9yUHJvcHMiLCJzaGFwZSIsInNpemUiLCJzcGFjaW5nIiwiZGVmYXVsdFRodW1ibmFpbFByb3BzIiwiaGVpZ2h0IiwibWFyZ2luIiwibmF2aWdhdGlvblNoYXBlIiwic2VsZWN0ZWRCb3JkZXJQb3NpdGlvbiIsInNlbGVjdGVkQm9yZGVyV2lkdGgiLCJzZWxlY3RlZFN0eWxlIiwid2lkdGgiLCJkZWZhdWx0Wm9vbVByb3BzIiwicG9zaXRpb24iLCJyYXRpbyIsInR5cGUiLCJhcmVBbGxUaHVtYnNJblNpZ2h0IiwiY3VycmVudFRyYW5zbGF0ZSIsImRldmljZVdpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImhhc0N1cnNvck1vdmVkIiwiaXNNYWluU2xpZGVyU3dpcGluZyIsInByZXZUcmFuc2xhdGUiLCJzdGFydFBvc2l0aW9uIiwidGFyZ2V0SW5kZXgiLCJmbHlvdXRIYW5kbGVyIiwiaXNGbHlvdXRWaXNpYmxlIiwibWFpbldyYXBwZXIiLCJxdWVyeVNlbGVjdG9yIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiem9vbURpdiIsImFkZCIsIm1haW5Db250YWluZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZmx5b3V0Wm9vbSIsImhhbmRsZVByZWxvYWRCZ1pvb20iLCJzdHlsZSIsInpJbmRleCIsInJlbW92ZSIsImJhY2tncm91bmRJbWFnZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJiYWNrZ3JvdW5kUG9zaXRpb24iLCJ6b29tIiwiY3VycmVudEltYWdlIiwicGlpb0RvbWFpbktleSIsImRhdGFJbWFnZVNyYyIsImdldEF0dHJpYnV0ZSIsInNyYyIsImlubGluZUVudGVySGFuZGxlciIsImdhbGxlcnlTZWxlY3RvciIsImlubGluZVpvb20iLCJpbmxpbmVMZWF2ZUhhbmRsZXIiLCJzZXRab29tRGl2RGltZW5zaW9uIiwiaW1hZ2VXaWR0aCIsImFzcGVjdFJhdGlvIiwiaW5jbHVkZXMiLCJmaWVsZHMiLCJzcGxpdCIsImltYWdlSGVpZ2h0IiwicGFyc2VJbnQiLCJnYWxsZXJ5IiwidW5kZWZpbmVkIiwidHJhbnNpdGlvbiIsInRoZW1lUHJvcHMiLCJiYWNrZ3JvdW5kIiwiY29sb3IiLCJ2YXJpYW50U2VsZWN0b3IiLCJyZXNwb25zaXZlIiwibW9iaWxlIiwidGFibGV0IiwiY2Fyb3VzZWxPZmZzZXQiLCJjYXJvdXNlbFBvc2l0aW9uIiwiY2Fyb3VzZWxTdHlsZSIsImluZGljYXRvclByb3BzIiwibWFpbk5hdmlnYXRpb24iLCJ0aHVtYm5haWxQcm9wcyIsInpvb21Qcm9wcyIsImRvY3VtZW50IiwicGlpbyIsInNldFRpbWVvdXQiLCJyZW5kZXIiLCJ2YXJpYW50c0FycmF5IiwiQXJyYXkiLCJmcm9tIiwiY2hpbGRyZW4iLCJ0YXJnZXRMaXN0IiwidGFyZ2V0IiwiY2xvc2VzdCIsInZhcmlhbnRJbmRleCIsImZpbmRJbmRleCIsImxpc3QiLCJzdGFydCIsImNsaWVudEl0ZW1zIiwicXVlcnlTZWxlY3RvckFsbCIsImNyZWF0ZUVsZW1lbnQiLCJmb3JFYWNoIiwiaXRlbSIsImluZGV4IiwiY2hpbGRXcmFwcGVyIiwic2V0QXR0cmlidXRlIiwiY2xvbmUiLCJjbG9uZU5vZGUiLCJhcHBlbmRDaGlsZCIsImdhbGxlcnlDb250YWluZXIiLCJpbWFnZUNvbnRhaW5lciIsImNvbnRleHRNZW51IiwiaW5uZXJIVE1MIiwibmF2SW5kaWNhdG9ycyIsImNhcm91c2VsIiwiY2Fyb3VzZWxTbGlkZXIiLCJjYXJvdXNlbFdyYXBwZXIiLCJwcmV2Q2Fyb3VzZWxTdmciLCJjcmVhdGVQcmV2U3ZnIiwicHJldkNhcm91c2VsQnV0dG9uIiwibmV4dENhcm91c2VsU3ZnIiwiY3JlYXRlTmV4dFN2ZyIsIm5leHRDYXJvdXNlbEJ1dHRvbiIsImltYWdlcyIsImltZyIsImluZGljYXRvciIsInRodW1iSW1hZ2UiLCJpbWdUaHVtYldyYXBwZXIiLCJ0aHVtYlNsaWRlIiwicHJldk1haW5TdmciLCJwcmV2TWFpbkJ1dHRvbiIsIm5leHRNYWluU3ZnIiwibmV4dE1haW5CdXR0b24iLCJjbG9zZVN2ZyIsImNyZWF0ZUVsZW1lbnROUyIsImxpbmUxUGF0aCIsImxpbmUyUGF0aCIsInBvcHVwQ2xvc2UiLCJwb3B1cEltYWdlIiwicG9wdXAiLCJjcmVhdGVab29tRGl2IiwibGF1bmNoR2FsbGVyeSIsIm5leHRTdmciLCJuZXh0UGF0aCIsInByZXZTdmciLCJwcmV2UGF0aCIsImNhcm91c2VsU2xpZGVzIiwibGVuZ3RoIiwiY2Fyb3VzZWxTbGlkZVNpemUiLCJpbWFnZVNjcmVlbldpZHRoIiwiZ2FsbGVyeVNjcmVlbldpZHRoIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicGlpb0VsZW1lbnRzIiwiZ2V0UGlpb0VsZW1lbnRzIiwiZ2V0UGlpb0ltYWdlcyIsIk1hdGgiLCJmbG9vciIsImdldGNhcm91c2VsU2xpZGVyU2NyZWVuU2l6ZSIsInRodW1iSW1hZ2VTaXplIiwic2VsZWN0ZWRUaHVtYlNpemUiLCJjYXJvdXNlbFNsaWRlclNpemUiLCJyaWdodCIsImxlZnQiLCJ0b3AiLCJib3R0b20iLCJkZWZhdWx0IiwiaXNTbGlkZXJWZXJ0aWNhbCIsImNhcm91c2VsQ291bnRlciIsInRodW1ic0luU2lnaHQiLCJsb2FkSW1hZ2UiLCJ0aHVtYkltYWdlcyIsImltYWdlIiwib25Mb2FkSW1hZ2UiLCJnZXRUaHVtYnNJblNpZ2h0IiwidGh1bWJzVG9Mb2FkIiwiZGltZW5zaW9uIiwiZ2V0Q2Fyb3VzZWxXcmFwcGVyRGltZW5zaW9uIiwiZ2V0TWFpbkltYWdlV2lkdGgiLCJjdXJyZW50U2xpZGUiLCJ0YXJnZXRTbGlkZSIsIm1haW5TbGlkZXMiLCJvcGVuSW1hZ2VUZXh0IiwiY3VycmVudFRodW1iIiwidGFyZ2V0VGh1bWIiLCJuZXh0VGh1bWJJbmRleCIsInRodW1iSW1hZ2VUb0xvYWQiLCJrZWVwVGh1bWJTZWxlY3RlZE9uU2lnaHQiLCJjdXJyZW50SW5kaWNhdG9yIiwiaW5kaWNhdG9ycyIsInRhcmdldEluZGljYXRvciIsImN1cnNvciIsImlzQ2xpY2tJbnNpZGUiLCJjb250YWlucyIsInNldFNsaWRlckRpbWVuc2lvbnMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvcldpdGhvdXRTcGFjZXMiLCJoc2xMdW1pbm9zaXR5IiwiaG92ZXJCYWNrZ3JvdW5kQ29sb3IiLCJmb2N1c0JhY2tncm91bmRDb2xvciIsInNlbGVjdG9yU3R5bGUiLCJzZXRQcm9wZXJ0eSIsIm9uY29udGV4dG1lbnUiLCJtb3VzZVgiLCJjbGllbnRYIiwibW91c2VZIiwiY2xpZW50WSIsIm9mZnNldFBhcmVudCIsIm5hdmlnYXRvckxhbmd1YWdlIiwibmF2aWdhdG9yIiwibGFuZ3VhZ2UiLCJzaGlmdCIsImNvdW50cnkiLCJwb3AiLCJqc29uTGFuZ3VhZ2UiLCJPcGVuSW1hZ2UiLCJmaXJzdCIsImtleXMiLCJlbiIsIlVTIiwib3JpZ2luYWxVUkwiLCJhbmNob3J0YWciLCJ0ZXh0IiwiY3JlYXRlVGV4dE5vZGUiLCJkaXNwbGF5IiwiaGFuZGxlUHJldk1haW5JbWFnZUxvYWQiLCJwcmV2U2xpZGUiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwicHJldkluZGV4IiwiUG9pbnRlckV2ZW50IiwicHJldlRodW1iIiwicHJldkluZGljYXRvciIsImhhbmRsZU5leHRNYWluSW1hZ2VMb2FkIiwibmV4dFNsaWRlIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwibmV4dEluZGV4IiwibmV4dFRodW1iIiwidGh1bWJzQXJyYXkiLCJuZXh0RG90IiwiZ2V0cG9zaXRpb25YIiwidG91Y2hlcyIsInBhZ2VYIiwiZ2V0cG9zaXRpb25ZIiwicGFnZVkiLCJnZXN0dXJlU3RhcnQiLCJnZXN0dXJlTW92ZSIsImN1cnJlbnRQb3NpdGlvbiIsImdlc3R1cmVFbmQiLCJldiIsImVuZFBvc2l0aW9uIiwiYWJzIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJjYXB0dXJlQ2xpY2siLCJzdG9wUHJvcGFnYXRpb24iLCJtb3ZlZEJ5Iiwic2V0UG9zaXRpb25CeUluZGV4SW5NYWluU2xpZGVyIiwiYW5jaG9yVGFnIiwib25jbGljayIsInNldFpvb20iLCJmbGV4RGlyZWN0aW9uIiwiY2Fyb3VzZWxJbWFnZXNXcmFwcGVycyIsImltYWdlVGh1bWJXcmFwcGVyIiwic2xpZGVUaHVtYiIsInNldENhcm91c2VsRGltZW5zaW9uIiwibG9hZFRodW1ibmFpbEltYWdlc0luU2lnaHQiLCJ0YXJnZXRXcmFwcGVyIiwiY2Fyb3VzZWxTbGlkZXJTY3JlZW5TaXplIiwiaGFuZGxlVGh1bWJMb2FkSW1hZ2UiLCJsb2FkZWRUaHVtYnMiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2Zvcm1PcmlnaW4iLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJjYXJvdXNlbFdyYXBwZXJTaXplIiwiaXNDYXJvdXNlbFN3aXBpbmciLCJjYXJvdXNlbFN0YXJ0UG9zaXRpb24iLCJjYXJvdXNlbFByZXZUcmFuc2xhdGUiLCJjYXJvdXNlbEN1cmVudFRyYW5zbGF0ZSIsImdlc3R1cmVTdGFydENhcm91c2VsIiwicG9zIiwidHJhbnNmb3JtTWF0cml4IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJ0cmltIiwiZ2VzdHVyZU1vdmVDYXJvdXNlbCIsImNhcm91c2VsQ3VycmVudFBvc2l0aW9uIiwiZ2VzdHVyZUVuZENhcm91c2VsIiwiY2Fyb3VzZWxFbmRQb3NpdGlvbiIsIm5ld1RyYW5zbGF0ZSIsInRodW1iIiwic2xpZGVJbmRpY2F0b3IiLCJzZXROYXZJbmRpY2F0b3JzRGltZW5zaW9uIiwidGFyZ2V0RG90IiwicHJldmlvdXNEZXZpY2VXaXRoIiwiZG93bmxvYWRlZE1haW5JbWFnZXMiLCJHYWxsZXJ5T2JqZWN0IiwiaW5pdCIsIm9wdHMiLCJnYWxsZXJ5T2JqZWN0XzEiLCJnYWxsZXJ5T2JqZWN0XzIiLCJjYXJvdXNlbFNsaWRlclBvc2l0aW9uIiwiY2Fyb3VzZWxXcmFwcGVyUG9zaXRpb24iLCJwcmV2Q2Fyb3VzZWwiLCJuZXh0Q2Fyb3VzZWwiLCJjdXJyZW50IiwiY3VycmVudEVsZW1lbnQiLCJlbGVtZW50c0FycmF5IiwiY3VycmVudEluZGV4IiwidGFyZ2V0RWxlbWVudCIsIm5hdldyYXBwZXIiLCJuYXZUaHVtYlNpemUiLCJjb3VudGVyIiwibmF2Q29udGFpbmVyIiwibW92ZUJ5IiwibmF2Q29udGFpbmVyU2l6ZSIsIm5hdldyYXBwZXJTaXplIiwibm9kZSIsImN1cnJlbnRXcmFwcGVyIiwiaW1hZ2Vab29tIiwiY3VycmVudFRhcmdldCIsIm9mZnNldFgiLCJvZmZzZXRZIiwieEFtb3VudCIsIm9mZnNldFdpZHRoIiwieUFtb3VudCIsIm9mZnNldEhlaWdodCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVB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Q3lELEVBQU81RCxVQUFVRyxJQUFJLFksNkJDcEJ6QnhFLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxJQUN0RG5CLEVBQVFpRyxVQUFPLEVBZWZqRyxFQUFRaUcsS0FkTUgsSUFDVixJQUFJOEosRUFDQUUsRUFDUUYsRUFBWjlKLEVBQUU4SixRQUFvQjlKLEVBQUU4SixRQUFVOUosRUFBRWtNLFFBQW9CbE0sRUFBRWtNLFFBQVEsR0FBR3BDLFFBQW9CLEVBQzdFRSxFQUFaaEssRUFBRWdLLFFBQW9CaEssRUFBRWdLLFFBQVVoSyxFQUFFa00sUUFBb0JsTSxFQUFFa00sUUFBUSxHQUFHbEMsUUFBb0IsRUFDekYsTUFBTWlILEVBQVlqUixFQUFFa1IsY0FDZEMsRUFBVXJILEVBQVVtSCxFQUFVdkssd0JBQXdCVyxLQUN0RCtKLEVBQVVwSCxFQUFVaUgsRUFBVXZLLHdCQUF3QlksSUFDNUQsSUFBSStKLEVBQVVGLEVBQVVGLEVBQVVLLFlBQWMsSUFDNUNDLEVBQVVILEVBQVVILEVBQVVPLGFBQWUsSUFHakQsT0FGbUNILEVBQWxDLEdBQUtBLEdBQVdBLEdBQVcsSUFBaUJBLEVBQVUsRUFBSUEsRUFBb0IsRUFBYyxJQUMxREUsRUFBbEMsR0FBS0EsR0FBV0EsR0FBVyxJQUFpQkEsRUFBVSxFQUFJQSxFQUFvQixFQUFjLElBQ3RGRixFQUFVLElBQU1FLEVBQVUiLCJmaWxlIjoicGlpb0dhbGxlcnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGlpb0dhbGxlcnkgPSB2b2lkIDA7XG5jb25zdCBsYW5ndWFnZXNfanNvbl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9yZXNvdXJjZXMvbGFuZ3VhZ2VzLmpzb25cIikpO1xuY29uc3QgZGlzYWJsZUNhcm91c2VsQnV0dG9uc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi91dGlscy9kaXNhYmxlQ2Fyb3VzZWxCdXR0b25zXCIpKTtcbmNvbnN0IGRpc2FibGVNYWluQnV0dG9uc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi91dGlscy9kaXNhYmxlTWFpbkJ1dHRvbnNcIikpO1xuY29uc3QgZmFkZUluXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uL3V0aWxzL2ZhZGVJblwiKSk7XG5jb25zdCBnZXRUYXJnZXRFbGVtZW50XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uL3V0aWxzL2dldFRhcmdldEVsZW1lbnRcIikpO1xuY29uc3QgbW92ZUNhcm91c2VsXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uL3V0aWxzL21vdmVDYXJvdXNlbFwiKSk7XG5jb25zdCBtb3ZlTWFpblNsaWRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi91dGlscy9tb3ZlTWFpblNsaWRlclwiKSk7XG5jb25zdCBzbGlkZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi91dGlscy9zbGlkZVwiKSk7XG5jb25zdCB1cGRhdGVOYXZFbGVtU2VsZWN0ZWRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vdXRpbHMvdXBkYXRlTmF2RWxlbVNlbGVjdGVkXCIpKTtcbmNvbnN0IHpvb21fMSA9IHJlcXVpcmUoXCIuLi91dGlscy96b29tXCIpO1xuY2xhc3MgR2FsbGVyeSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLmRlZmF1bHRJbmRpY2F0b3JQcm9wcyA9IHtcbiAgICAgICAgICAgIHNoYXBlOiBcImNpcmNsZVwiLFxuICAgICAgICAgICAgc2l6ZTogMTMsXG4gICAgICAgICAgICBzcGFjaW5nOiA2LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRlZmF1bHRUaHVtYm5haWxQcm9wcyA9IHtcbiAgICAgICAgICAgIGhlaWdodDogNzAsXG4gICAgICAgICAgICBtYXJnaW46IDEwLFxuICAgICAgICAgICAgbmF2aWdhdGlvblNoYXBlOiBcInJlY3RhbmdsZVwiLFxuICAgICAgICAgICAgc2VsZWN0ZWRCb3JkZXJQb3NpdGlvbjogXCJib3R0b21cIixcbiAgICAgICAgICAgIHNlbGVjdGVkQm9yZGVyV2lkdGg6IDMsXG4gICAgICAgICAgICBzZWxlY3RlZFN0eWxlOiBcIm92ZXJsYXlcIixcbiAgICAgICAgICAgIHdpZHRoOiA3MCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWZhdWx0Wm9vbVByb3BzID0ge1xuICAgICAgICAgICAgcG9zaXRpb246IFwiXCIsXG4gICAgICAgICAgICByYXRpbzogMixcbiAgICAgICAgICAgIHR5cGU6IFwiaW5saW5lXCIsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYXJlQWxsVGh1bWJzSW5TaWdodCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmN1cnJlbnRUcmFuc2xhdGUgPSAwO1xuICAgICAgICB0aGlzLmRldmljZVdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHRoaXMuaGFzQ3Vyc29yTW92ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc01haW5TbGlkZXJTd2lwaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJldlRyYW5zbGF0ZSA9IDA7XG4gICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IDA7XG4gICAgICAgIHRoaXMudGFyZ2V0SW5kZXggPSAwO1xuICAgICAgICAvLyBGbHlvdXQgWm9vbVxuICAgICAgICB0aGlzLmZseW91dEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzRmx5b3V0VmlzaWJsZSA9ICF0aGlzLmlzRmx5b3V0VmlzaWJsZTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTbGlkZSA9IHRoaXMubWFpbldyYXBwZXIucXVlcnlTZWxlY3RvcihcIiAuY3VycmVudFwiKTtcbiAgICAgICAgICAgIGN1cnJlbnRTbGlkZS5jbGFzc0xpc3QudG9nZ2xlKFwiZmx5b3V0LW9wZW5cIik7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0ZseW91dFZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnpvb21EaXYuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5tYWluQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5mbHlvdXRab29tLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1haW5Db250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCB0aGlzLmZseW91dFpvb20sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVByZWxvYWRCZ1pvb20oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnpvb21EaXYuc3R5bGUuekluZGV4ID0gYDEwMGA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnpvb21EaXYuY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIik7XG4gICAgICAgICAgICAgICAgdGhpcy56b29tRGl2LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1bnNldGA7XG4gICAgICAgICAgICAgICAgdGhpcy5tYWluQ29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5mbHlvdXRab29tLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1haW5Db250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCB0aGlzLmZseW91dFpvb20sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnpvb21EaXYuc3R5bGUuekluZGV4ID0gYC0xYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mbHlvdXRab29tID0gKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMuem9vbURpdi5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSB6b29tXzEuem9vbShlKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gUHJlbG9hZHMgdGhlIGJhY2tyb3VuZCBpbWFnZXMgZm9yIHpvb21pbmdcbiAgICAgICAgdGhpcy5oYW5kbGVQcmVsb2FkQmdab29tID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEltYWdlID0gdGhpcy5tYWluV3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiIC5jdXJyZW50IGltZ1wiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGlpb0RvbWFpbktleSkge1xuICAgICAgICAgICAgICAgIGxldCBkYXRhSW1hZ2VTcmMgPSBjdXJyZW50SW1hZ2UuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbWFnZS16b29tXCIpO1xuICAgICAgICAgICAgICAgIGlmICghZGF0YUltYWdlU3JjKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFJbWFnZVNyYyA9IGN1cnJlbnRJbWFnZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWltYWdlXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnpvb21EaXYuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2RhdGFJbWFnZVNyY30pYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuem9vbURpdi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7Y3VycmVudEltYWdlLnNyY30pYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gSW5saW5lIFpvb20uXG4gICAgICAgIHRoaXMuaW5saW5lRW50ZXJIYW5kbGVyID0gKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTbGlkZSA9IHRoaXMubWFpbldyYXBwZXIucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuZ2FsbGVyeVNlbGVjdG9yICsgXCIgLmN1cnJlbnRcIik7XG4gICAgICAgICAgICBjdXJyZW50U2xpZGUuY2xhc3NMaXN0LmFkZChcImlubGluZS1vcGVuXCIpO1xuICAgICAgICAgICAgdGhpcy56b29tRGl2LmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVQcmVsb2FkQmdab29tKCk7XG4gICAgICAgICAgICB0aGlzLmlubGluZVpvb20oZSk7XG4gICAgICAgICAgICB0aGlzLnpvb21EaXYuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLmlubGluZVpvb20sIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuem9vbURpdi5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMuaW5saW5lWm9vbSwgZmFsc2UpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlubGluZUxlYXZlSGFuZGxlciA9IChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2xpZGUgPSB0aGlzLm1haW5XcmFwcGVyLnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmdhbGxlcnlTZWxlY3RvciArIFwiIC5jdXJyZW50XCIpO1xuICAgICAgICAgICAgY3VycmVudFNsaWRlLmNsYXNzTGlzdC5yZW1vdmUoXCJpbmxpbmUtb3BlblwiKTtcbiAgICAgICAgICAgIHRoaXMuem9vbURpdi5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcbiAgICAgICAgICAgIHRoaXMuem9vbURpdi5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuaW5saW5lWm9vbSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy56b29tRGl2LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy5pbmxpbmVab29tLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnpvb21EaXYuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVuc2V0YDtcbiAgICAgICAgICAgIHRoaXMuem9vbURpdi5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSBgdW5zZXRgO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlubGluZVpvb20gPSAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy56b29tRGl2LnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9IHpvb21fMS56b29tKGUpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBTZXQgWm9vbSBjb250YWluZXIgZGltZW5zaW9uXG4gICAgICAgIHRoaXMuc2V0Wm9vbURpdkRpbWVuc2lvbiA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy56b29tRGl2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy56b29tRGl2LnN0eWxlLndpZHRoID0gYCR7dGhpcy5pbWFnZVdpZHRofXB4YDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLmFzcGVjdFJhdGlvID09PSBcInN0cmluZ1wiICYmIHRoaXMub3B0aW9ucy5hc3BlY3RSYXRpby5pbmNsdWRlcyhcIjpcIikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZHMgPSB0aGlzLm9wdGlvbnMuYXNwZWN0UmF0aW8uc3BsaXQoXCI6XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VIZWlnaHQgPSB0aGlzLmltYWdlV2lkdGggLyBwYXJzZUludChmaWVsZHNbMF0sIDEwKSAqIHBhcnNlSW50KGZpZWxkc1sxXSwgMTApO1xuICAgICAgICAgICAgICAgIHRoaXMuem9vbURpdi5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLmltYWdlSGVpZ2h0fXB4YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuYXNwZWN0UmF0aW8gPT09IFwib2JqZWN0XCIgJiYgdGhpcy5vcHRpb25zLmFzcGVjdFJhdGlvICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZUhlaWdodCA9IHRoaXMub3B0aW9ucy5hc3BlY3RSYXRpby5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy56b29tRGl2LnN0eWxlLmhlaWdodCA9IGAke3RoaXMuaW1hZ2VIZWlnaHR9cHhgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZUhlaWdodCA9IHRoaXMuaW1hZ2VXaWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLnpvb21EaXYuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5pbWFnZUhlaWdodH1weGA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmdhbGxlcnkuc3R5bGUucG9zaXRpb24gPSBgcmVsYXRpdmVgO1xuICAgICAgICAgICAgdGhpcy56b29tRGl2LnN0eWxlLnBvc2l0aW9uID0gYGFic29sdXRlYDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5vcHRpb25zLnBpaW9Eb21haW5LZXkgPSAob3B0aW9ucy5waWlvRG9tYWluS2V5ID09PSB1bmRlZmluZWQgPyBcIlwiIDogb3B0aW9ucy5waWlvRG9tYWluS2V5KTtcbiAgICAgICAgdGhpcy5vcHRpb25zLmdhbGxlcnlTZWxlY3RvciA9IG9wdGlvbnMuZ2FsbGVyeVNlbGVjdG9yO1xuICAgICAgICB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiA9IChvcHRpb25zLnRyYW5zaXRpb24gPT09IHVuZGVmaW5lZCA/IFwic2xpZGVcIiA6IG9wdGlvbnMudHJhbnNpdGlvbik7XG4gICAgICAgIHRoaXMub3B0aW9ucy50aGVtZVByb3BzID0gb3B0aW9ucy50aGVtZVByb3BzID09PSB1bmRlZmluZWQgPyB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBcImhzbGEoMjM0LCA3NiUsIDUwJSwgMSlcIixcbiAgICAgICAgICAgIGNvbG9yOiBcImhzbGEoMCwgMTAwJSwgMTAwJSwgMSlcIixcbiAgICAgICAgfSA6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogKG9wdGlvbnMudGhlbWVQcm9wcy5iYWNrZ3JvdW5kID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBcImhzbGEoMjM0LCA3NiUsIDUwJSwgMSlcIlxuICAgICAgICAgICAgICAgICAgICA6IG9wdGlvbnMudGhlbWVQcm9wcy5iYWNrZ3JvdW5kKSxcbiAgICAgICAgICAgICAgICBjb2xvcjogKG9wdGlvbnMudGhlbWVQcm9wcy5jb2xvciA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gXCJoc2xhKDAsIDEwMCUsIDEwMCUsIDEpXCJcbiAgICAgICAgICAgICAgICAgICAgOiBvcHRpb25zLnRoZW1lUHJvcHMuY29sb3IpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vcHRpb25zLnZhcmlhbnRTZWxlY3RvciA9IG9wdGlvbnMudmFyaWFudFNlbGVjdG9yO1xuICAgICAgICAvLyBSZXNwb25zaXZlIHNldHRpbmdzLlxuICAgICAgICBsZXQgcmVzcG9uc2l2ZU9wdGlvbjtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZXNwb25zaXZlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5yZXNwb25zaXZlLm1vYmlsZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuZGV2aWNlV2lkdGggPCA3NjQpIHtcbiAgICAgICAgICAgIHJlc3BvbnNpdmVPcHRpb24gPSBvcHRpb25zLnJlc3BvbnNpdmUubW9iaWxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9ucy5yZXNwb25zaXZlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5yZXNwb25zaXZlLnRhYmxldCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuZGV2aWNlV2lkdGggPCAxMDI0KSB7XG4gICAgICAgICAgICByZXNwb25zaXZlT3B0aW9uID0gb3B0aW9ucy5yZXNwb25zaXZlLnRhYmxldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3BvbnNpdmVPcHRpb24gPSBvcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3B0aW9ucy5hc3BlY3RSYXRpbyA9IChyZXNwb25zaXZlT3B0aW9uLmFzcGVjdFJhdGlvID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgXCJzcXVhcmVcIiA6IHJlc3BvbnNpdmVPcHRpb24uYXNwZWN0UmF0aW8pO1xuICAgICAgICB0aGlzLm9wdGlvbnMuY2Fyb3VzZWxPZmZzZXQgPSAocmVzcG9uc2l2ZU9wdGlvbi5jYXJvdXNlbE9mZnNldCA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgIDE1IDogcmVzcG9uc2l2ZU9wdGlvbi5jYXJvdXNlbE9mZnNldCk7XG4gICAgICAgIHRoaXMub3B0aW9ucy5jYXJvdXNlbFBvc2l0aW9uID0gKHJlc3BvbnNpdmVPcHRpb24uY2Fyb3VzZWxQb3NpdGlvbiA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgIFwiYm90dG9tXCIgOiByZXNwb25zaXZlT3B0aW9uLmNhcm91c2VsUG9zaXRpb24pO1xuICAgICAgICB0aGlzLm9wdGlvbnMuY2Fyb3VzZWxTdHlsZSA9IChyZXNwb25zaXZlT3B0aW9uLmNhcm91c2VsU3R5bGUgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICBcInRodW1ibmFpbHNcIiA6IHJlc3BvbnNpdmVPcHRpb24uY2Fyb3VzZWxTdHlsZSk7XG4gICAgICAgIHRoaXMub3B0aW9ucy5pbmRpY2F0b3JQcm9wcyA9IHJlc3BvbnNpdmVPcHRpb24uaW5kaWNhdG9yUHJvcHMgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRJbmRpY2F0b3JQcm9wcyA6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2hhcGU6IChyZXNwb25zaXZlT3B0aW9uLmluZGljYXRvclByb3BzLnNoYXBlID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICBcImNpcmNsZVwiIDogcmVzcG9uc2l2ZU9wdGlvbi5pbmRpY2F0b3JQcm9wcy5zaGFwZSksXG4gICAgICAgICAgICAgICAgc2l6ZTogKHJlc3BvbnNpdmVPcHRpb24uaW5kaWNhdG9yUHJvcHMuc2l6ZSA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgMTMgOiByZXNwb25zaXZlT3B0aW9uLmluZGljYXRvclByb3BzLnNpemUpLFxuICAgICAgICAgICAgICAgIHNwYWNpbmc6IChyZXNwb25zaXZlT3B0aW9uLmluZGljYXRvclByb3BzLnNwYWNpbmcgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgIDYgOiByZXNwb25zaXZlT3B0aW9uLmluZGljYXRvclByb3BzLnNwYWNpbmcpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vcHRpb25zLm1haW5OYXZpZ2F0aW9uID0gKHJlc3BvbnNpdmVPcHRpb24ubWFpbk5hdmlnYXRpb24gPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICBcInJlY3RhbmdsZVwiIDogcmVzcG9uc2l2ZU9wdGlvbi5tYWluTmF2aWdhdGlvbik7XG4gICAgICAgIHRoaXMub3B0aW9ucy50aHVtYm5haWxQcm9wcyA9IHJlc3BvbnNpdmVPcHRpb24udGh1bWJuYWlsUHJvcHMgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB0aGlzLmRlZmF1bHRUaHVtYm5haWxQcm9wc1xuICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiByZXNwb25zaXZlT3B0aW9uLnRodW1ibmFpbFByb3BzLmhlaWdodCA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgICAgIDcwIDogcmVzcG9uc2l2ZU9wdGlvbi50aHVtYm5haWxQcm9wcy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogcmVzcG9uc2l2ZU9wdGlvbi50aHVtYm5haWxQcm9wcy5tYXJnaW4gPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAxMCA6IHJlc3BvbnNpdmVPcHRpb24udGh1bWJuYWlsUHJvcHMubWFyZ2luLFxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uU2hhcGU6IHJlc3BvbnNpdmVPcHRpb24udGh1bWJuYWlsUHJvcHMubmF2aWdhdGlvblNoYXBlID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJyZWN0YW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiByZXNwb25zaXZlT3B0aW9uLnRodW1ibmFpbFByb3BzLm5hdmlnYXRpb25TaGFwZSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRCb3JkZXJQb3NpdGlvbjogcmVzcG9uc2l2ZU9wdGlvbi50aHVtYm5haWxQcm9wcy5zZWxlY3RlZEJvcmRlclBvc2l0aW9uID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5vcHRpb25zLmNhcm91c2VsUG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzcG9uc2l2ZU9wdGlvbi50aHVtYm5haWxQcm9wcy5zZWxlY3RlZEJvcmRlclBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEJvcmRlcldpZHRoOiByZXNwb25zaXZlT3B0aW9uLnRodW1ibmFpbFByb3BzLnNlbGVjdGVkQm9yZGVyV2lkdGggPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyAzXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJlc3BvbnNpdmVPcHRpb24udGh1bWJuYWlsUHJvcHMuc2VsZWN0ZWRCb3JkZXJXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRTdHlsZTogcmVzcG9uc2l2ZU9wdGlvbi50aHVtYm5haWxQcm9wcy5zZWxlY3RlZFN0eWxlID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJvdmVybGF5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzcG9uc2l2ZU9wdGlvbi50aHVtYm5haWxQcm9wcy5zZWxlY3RlZFN0eWxlLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogcmVzcG9uc2l2ZU9wdGlvbi50aHVtYm5haWxQcm9wcy53aWR0aCA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgICAgIDcwIDogcmVzcG9uc2l2ZU9wdGlvbi50aHVtYm5haWxQcm9wcy53aWR0aCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICB0aGlzLm9wdGlvbnMuem9vbVByb3BzID0gcmVzcG9uc2l2ZU9wdGlvbi56b29tUHJvcHMgPT09IHVuZGVmaW5lZCA/IHRoaXMuZGVmYXVsdFpvb21Qcm9wcyA6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHJlc3BvbnNpdmVPcHRpb24uem9vbVByb3BzLnBvc2l0aW9uID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICBcInJpZ2h0XCIgOiByZXNwb25zaXZlT3B0aW9uLnpvb21Qcm9wcy5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICByYXRpbzogcmVzcG9uc2l2ZU9wdGlvbi56b29tUHJvcHMucmF0aW8gPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgIDIgOiByZXNwb25zaXZlT3B0aW9uLnpvb21Qcm9wcy5yYXRpbyxcbiAgICAgICAgICAgICAgICB0eXBlOiByZXNwb25zaXZlT3B0aW9uLnpvb21Qcm9wcy50eXBlID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICBcImlubGluZVwiIDogcmVzcG9uc2l2ZU9wdGlvbi56b29tUHJvcHMudHlwZSxcbiAgICAgICAgICAgIH07XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKCFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMub3B0aW9ucy5nYWxsZXJ5U2VsZWN0b3J9YCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHRoaXMub3B0aW9ucy5waWlvRG9tYWluS2V5KSAmJiAod2luZG93LnBpaW8gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyB0aGlzLnJlbmRlcigpOyB9LCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBNYWtlIGFycmF5IG9mIGltYWdlcyB1cmwnc1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy52YXJpYW50U2VsZWN0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFyaWFudFNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLm9wdGlvbnMudmFyaWFudFNlbGVjdG9yfWApO1xuICAgICAgICAgICAgICAgIHRoaXMudmFyaWFudHNBcnJheSA9IEFycmF5LmZyb20odGhpcy52YXJpYW50U2VsZWN0b3IuY2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgIHRoaXMudmFyaWFudFNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0TGlzdCA9IHRhcmdldC5jbG9zZXN0KFwiW2RhdGEtbGlzdF1cIik7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0TGlzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhbnRJbmRleCA9IHRoaXMudmFyaWFudHNBcnJheS5maW5kSW5kZXgoKGxpc3QpID0+IGxpc3QgPT09IHRhcmdldExpc3QpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0KHZhcmlhbnRJbmRleCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydCgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydCh2YXJpYW50SW5kZXgpIHtcbiAgICAgICAgdGhpcy5nYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLm9wdGlvbnMuZ2FsbGVyeVNlbGVjdG9yfWApO1xuICAgICAgICBsZXQgY2xpZW50SXRlbXM7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudmFyaWFudFNlbGVjdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNsaWVudEl0ZW1zID0gQXJyYXkuZnJvbSh0aGlzLnZhcmlhbnRzQXJyYXlbdmFyaWFudEluZGV4XS5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS1pbWFnZV1gKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjbGllbnRJdGVtcyA9IEFycmF5LmZyb20odGhpcy5nYWxsZXJ5LmNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgYSB3cmFwcGVyIGZvciBlYWNoIGVsZW1lbnQgb24gdGhlIGNsaWVudCBnYWxsZXJ5IGh0bWxcbiAgICAgICAgdGhpcy5tYWluV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMubWFpbldyYXBwZXIuY2xhc3NMaXN0LmFkZChcIm1haW4td3JhcHBlclwiKTtcbiAgICAgICAgY2xpZW50SXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBjaGlsZFdyYXBwZXIuc2V0QXR0cmlidXRlKFwiZGF0YS1nYWxsZXJ5XCIsIGBpdGVtLSR7aW5kZXh9YCk7XG4gICAgICAgICAgICBjaGlsZFdyYXBwZXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgaW5kZXggPT09IDAgPyBcImN1cnJlbnRcIiA6IFwiXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy52YXJpYW50U2VsZWN0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lID0gaXRlbS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgY2hpbGRXcmFwcGVyLmFwcGVuZENoaWxkKGNsb25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkV3JhcHBlci5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWFpbldyYXBwZXIuYXBwZW5kQ2hpbGQoY2hpbGRXcmFwcGVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgbmV3IEhUTUwgbWFya3VwXG4gICAgICAgIHRoaXMuZ2FsbGVyeUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuZ2FsbGVyeUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZ2FsbGVyeS1jb250YWluZXJcIik7XG4gICAgICAgIHRoaXMuaW1hZ2VDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmltYWdlQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYWluLWltZ1wiKTtcbiAgICAgICAgdGhpcy5tYWluQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5tYWluQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYWluLWNvbnRhaW5lclwiKTtcbiAgICAgICAgdGhpcy5jb250ZXh0TWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZChcImNvbnRleHQtbWVudVwiKTtcbiAgICAgICAgLy8gQXBwZW5kIHRoZSBjb250YWluZXJzXG4gICAgICAgIHRoaXMubWFpbkNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLm1haW5XcmFwcGVyKTtcbiAgICAgICAgdGhpcy5pbWFnZUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLm1haW5Db250YWluZXIpO1xuICAgICAgICB0aGlzLmdhbGxlcnlDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5pbWFnZUNvbnRhaW5lcik7XG4gICAgICAgIC8vIFJlcGxhY2UgdGhlIGV4aXN0aW5nIGh0bWwgd2l0aCB0aGUgbmV3IHN0cnVjdHVyZVxuICAgICAgICB0aGlzLmdhbGxlcnkuaW5uZXJIVE1MID0gXCIgXCI7XG4gICAgICAgIHRoaXMuZ2FsbGVyeS5hcHBlbmRDaGlsZCh0aGlzLmdhbGxlcnlDb250YWluZXIpO1xuICAgICAgICB0aGlzLmdhbGxlcnkuYXBwZW5kQ2hpbGQodGhpcy5jb250ZXh0TWVudSk7XG4gICAgICAgIC8vIENhcm91c2VsIHN0eWxlXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2Fyb3VzZWxTdHlsZSA9PT0gXCJpbmRpY2F0b3JzXCIpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgbmV3IEhUTUwgbWFya3VwXG4gICAgICAgICAgICB0aGlzLmNhcm91c2VsT2Zmc2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWxPZmZzZXQuY2xhc3NMaXN0LmFkZChcImNhcm91c2VsLW9mZnNldFwiKTtcbiAgICAgICAgICAgIHRoaXMubmF2SW5kaWNhdG9ycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLm5hdkluZGljYXRvcnMuY2xhc3NMaXN0LmFkZChcIm5hdkluZGljYXRvcnNcIik7XG4gICAgICAgICAgICAvLyBBZGQgbmV3IHN0cnVjdHVyZVxuICAgICAgICAgICAgdGhpcy5nYWxsZXJ5Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY2Fyb3VzZWxPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5nYWxsZXJ5Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMubmF2SW5kaWNhdG9ycyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5vcHRpb25zLmNhcm91c2VsU3R5bGUgIT09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIG5ldyBIVE1MIG1hcmt1cFxuICAgICAgICAgICAgdGhpcy5jYXJvdXNlbE9mZnNldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLmNhcm91c2VsT2Zmc2V0LmNsYXNzTGlzdC5hZGQoXCJjYXJvdXNlbC1vZmZzZXRcIik7XG4gICAgICAgICAgICB0aGlzLmNhcm91c2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWwuY2xhc3NMaXN0LmFkZChcImNhcm91c2VsXCIpO1xuICAgICAgICAgICAgdGhpcy5jYXJvdXNlbFNsaWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLmNhcm91c2VsU2xpZGVyLmNsYXNzTGlzdC5hZGQoXCJjYXJvdXNlbC1zbGlkZXJcIik7XG4gICAgICAgICAgICAvLyB0aGlzLmNhcm91c2VsU2xpZGVyLnN0eWxlLmhlaWdodCA9IGAke3RoaXMub3B0aW9ucy50aHVtYm5haWxQcm9wcy5oZWlnaHR9cHhgO1xuICAgICAgICAgICAgdGhpcy5jYXJvdXNlbFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGhpcy5jYXJvdXNlbFdyYXBwZXIuY2xhc3NMaXN0LmFkZChcImNhcm91c2VsLXdyYXBwZXJcIik7XG4gICAgICAgICAgICAvLyB0aGlzLmNhcm91c2VsV3JhcHBlci5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMuaGVpZ2h0fXB4YDtcbiAgICAgICAgICAgIC8vIEFwcGVuZCBuZXcgc3RydWN0dXJlXG4gICAgICAgICAgICB0aGlzLmdhbGxlcnlDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jYXJvdXNlbE9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLmNhcm91c2VsU2xpZGVyLmFwcGVuZENoaWxkKHRoaXMuY2Fyb3VzZWxXcmFwcGVyKTtcbiAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWwuYXBwZW5kQ2hpbGQodGhpcy5jYXJvdXNlbFNsaWRlcik7XG4gICAgICAgICAgICAvLyBJZiBDYXJvdXNlbCBidXR0b25zIGFyZSBlbmFibGVkXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRodW1ibmFpbFByb3BzLm5hdmlnYXRpb25TaGFwZSAhPT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgcHJldmlvdXMgYnV0dG9uXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkNhcm91c2VsU3ZnID0gdGhpcy5jcmVhdGVQcmV2U3ZnKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2Q2Fyb3VzZWxCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucHJldkNhcm91c2VsQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJhcnJvd1wiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZDYXJvdXNlbEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwicHJldi1hcnJvd1wiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZDYXJvdXNlbEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIGBidXR0b25gKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZDYXJvdXNlbEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBgcHJldkNhcm91c2VsYCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2Q2Fyb3VzZWxCdXR0b24uc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgYGRpc3BsYXk6bm9uZWApO1xuICAgICAgICAgICAgICAgIC8vIEFwcGVuZCBwcmV2aW91cyBidXR0b25cbiAgICAgICAgICAgICAgICB0aGlzLnByZXZDYXJvdXNlbEJ1dHRvbi5hcHBlbmRDaGlsZChwcmV2Q2Fyb3VzZWxTdmcpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWwuYXBwZW5kQ2hpbGQodGhpcy5wcmV2Q2Fyb3VzZWxCdXR0b24pO1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBuZXh0IGJ1dHRvblxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRDYXJvdXNlbFN2ZyA9IHRoaXMuY3JlYXRlTmV4dFN2ZygpO1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dENhcm91c2VsQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRDYXJvdXNlbEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYXJyb3dcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2Fyb3VzZWxCdXR0b24uY2xhc3NMaXN0LmFkZChcIm5leHQtYXJyb3dcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2Fyb3VzZWxCdXR0b24uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBgYnV0dG9uYCk7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2Fyb3VzZWxCdXR0b24uc2V0QXR0cmlidXRlKFwiaWRcIiwgYG5leHRDYXJvdXNlbGApO1xuICAgICAgICAgICAgICAgIC8vIEFwcGVuZCBuZXh0IGJ1dHRvblxuICAgICAgICAgICAgICAgIHRoaXMubmV4dENhcm91c2VsQnV0dG9uLmFwcGVuZENoaWxkKG5leHRDYXJvdXNlbFN2Zyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXJvdXNlbC5hcHBlbmRDaGlsZCh0aGlzLm5leHRDYXJvdXNlbEJ1dHRvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBZGQgbmV3IHN0cnVjdHVyZVxuICAgICAgICAgICAgdGhpcy5nYWxsZXJ5Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY2Fyb3VzZWwpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCB0aGUgbWFpbiBpbWFnZXNcbiAgICAgICAgdGhpcy5pbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAke3RoaXMub3B0aW9ucy5nYWxsZXJ5U2VsZWN0b3J9IFtkYXRhLWltYWdlXWApO1xuICAgICAgICAvLyBJbWFnZSBkaXN0cmlidXRpb24gYWNjb3JkaW5nIGNhcm91c2VsIHN0eWxlXG4gICAgICAgIHRoaXMuaW1hZ2VzLmZvckVhY2goKGltZywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNyYyA9IGltZy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWltYWdlXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jYXJvdXNlbFN0eWxlID09PSBcImluZGljYXRvcnNcIikge1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBlYWNoIGluZGljYXRvclxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGljYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGluZGV4ID09PSAwID8gXCJhY3RpdmVcIiA6IFwiXCIpO1xuICAgICAgICAgICAgICAgIGluZGljYXRvci5jbGFzc0xpc3QuYWRkKFwiaW5kaWNhdG9yXCIpO1xuICAgICAgICAgICAgICAgIC8vIEFwcGVuZCBpdCB0byBpdCdzIHBhcmVudFxuICAgICAgICAgICAgICAgIHRoaXMubmF2SW5kaWNhdG9ycy5hcHBlbmRDaGlsZChpbmRpY2F0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5vcHRpb25zLmNhcm91c2VsU3R5bGUgPT09IFwidGh1bWJuYWlsc1wiKSB7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGVhY2ggdGh1bWJuYWlsXG4gICAgICAgICAgICAgICAgY29uc3QgdGh1bWJJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgICAgICAgICAgdGh1bWJJbWFnZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3lINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQlJBQVwiKTtcbiAgICAgICAgICAgICAgICB0aHVtYkltYWdlLnNldEF0dHJpYnV0ZShcImRhdGEtaW1hZ2VcIiwgc3JjKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbWdUaHVtYldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIGltZ1RodW1iV3JhcHBlci5jbGFzc0xpc3QuYWRkKFwiaW1nVGh1bWItd3JhcHBlclwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0aHVtYlNsaWRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICB0aHVtYlNsaWRlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGluZGV4ID09PSAwID8gXCJhY3RpdmVcIiA6IFwiXCIpO1xuICAgICAgICAgICAgICAgIHRodW1iU2xpZGUuY2xhc3NMaXN0LmFkZChcInNsaWRlXCIpO1xuICAgICAgICAgICAgICAgIC8vIEFwcGVuZCBlbGVtZW50cyB0byBpdCdzIHBhcmVudHMgdG8gY3JlYXRlIHRoZSBzdHJ1Y3R1cmVcbiAgICAgICAgICAgICAgICBpbWdUaHVtYldyYXBwZXIuYXBwZW5kQ2hpbGQodGh1bWJJbWFnZSk7XG4gICAgICAgICAgICAgICAgdGh1bWJTbGlkZS5hcHBlbmRDaGlsZChpbWdUaHVtYldyYXBwZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWxXcmFwcGVyLmFwcGVuZENoaWxkKHRodW1iU2xpZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gVHJhbnNpdGlvbiBub25lfGZhZGV8c2xpZGVcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFuc2l0aW9uICE9PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgdGhpcy5nYWxsZXJ5Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcImRhdGEtdHJhbnNpdGlvblwiLCB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiAvKiB8fCBcInNsaWRlXCIgKi8pO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5hdmlnYXRpb24gYXJyb3dzIG5vbmV8ZWxzZVxuICAgICAgICAvLyBJZiBNYWluIGJ1dHRvbnMgYXJlIGVuYWJsZWRcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tYWluTmF2aWdhdGlvbiAhPT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBwcmV2aW91cyBidXR0b25cbiAgICAgICAgICAgIGNvbnN0IHByZXZNYWluU3ZnID0gdGhpcy5jcmVhdGVQcmV2U3ZnKCk7XG4gICAgICAgICAgICBwcmV2TWFpblN2Zy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgXCIyNHB4XCIpO1xuICAgICAgICAgICAgcHJldk1haW5Tdmcuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgXCIyNHB4XCIpO1xuICAgICAgICAgICAgdGhpcy5wcmV2TWFpbkJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgICAgICB0aGlzLnByZXZNYWluQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJhcnJvd1wiKTtcbiAgICAgICAgICAgIHRoaXMucHJldk1haW5CdXR0b24uY2xhc3NMaXN0LmFkZChcInByZXYtYXJyb3dcIik7XG4gICAgICAgICAgICB0aGlzLnByZXZNYWluQnV0dG9uLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgYGJ1dHRvbmApO1xuICAgICAgICAgICAgdGhpcy5wcmV2TWFpbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBgcHJldk1haW5CdXR0b25gKTtcbiAgICAgICAgICAgIHRoaXMucHJldk1haW5CdXR0b24uc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgYGRpc3BsYXk6bm9uZWApO1xuICAgICAgICAgICAgLy8gQXBwZW5kIHByZXZpb3VzIGJ1dHRvblxuICAgICAgICAgICAgdGhpcy5wcmV2TWFpbkJ1dHRvbi5hcHBlbmRDaGlsZChwcmV2TWFpblN2Zyk7XG4gICAgICAgICAgICB0aGlzLmltYWdlQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucHJldk1haW5CdXR0b24pO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIG5leHQgYnV0dG9uXG4gICAgICAgICAgICBjb25zdCBuZXh0TWFpblN2ZyA9IHRoaXMuY3JlYXRlTmV4dFN2ZygpO1xuICAgICAgICAgICAgbmV4dE1haW5Tdmcuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIFwiMjRweFwiKTtcbiAgICAgICAgICAgIG5leHRNYWluU3ZnLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIFwiMjRweFwiKTtcbiAgICAgICAgICAgIHRoaXMubmV4dE1haW5CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAgICAgdGhpcy5uZXh0TWFpbkJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYXJyb3dcIik7XG4gICAgICAgICAgICB0aGlzLm5leHRNYWluQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJuZXh0LWFycm93XCIpO1xuICAgICAgICAgICAgdGhpcy5uZXh0TWFpbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIGBidXR0b25gKTtcbiAgICAgICAgICAgIHRoaXMubmV4dE1haW5CdXR0b24uc2V0QXR0cmlidXRlKFwiaWRcIiwgYG5leHRNYWluQnV0dG9uYCk7XG4gICAgICAgICAgICAvLyBBcHBlbmQgbmV4dCBidXR0b25cbiAgICAgICAgICAgIHRoaXMubmV4dE1haW5CdXR0b24uYXBwZW5kQ2hpbGQobmV4dE1haW5TdmcpO1xuICAgICAgICAgICAgdGhpcy5pbWFnZUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLm5leHRNYWluQnV0dG9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRldmljZVdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIC8vIFpvb20gbm9uZXxwb3B1cHxmbHlvdXR8aW5saW5lXG4gICAgICAgIGlmICghZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuZ2FsbGVyeVNlbGVjdG9yICsgXCIgW2RhdGEtZ2FsbGVyeV0gYVwiKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy56b29tUHJvcHMudHlwZSA9PT0gXCJwb3B1cFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nYWxsZXJ5Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcImRhdGEtem9vbVwiLCBcInBvcHVwXCIpO1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBjcm9zcyBzdmdcbiAgICAgICAgICAgICAgICBjb25zdCBjbG9zZVN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpO1xuICAgICAgICAgICAgICAgIGNsb3NlU3ZnLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIiwgXCIwIDAgMjMgMjNcIik7XG4gICAgICAgICAgICAgICAgY2xvc2VTdmcuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBcIm5vbmVcIik7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZTFQYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpO1xuICAgICAgICAgICAgICAgIGxpbmUxUGF0aC5zZXRBdHRyaWJ1dGUoXCJkXCIsIFwiTTIxLjUxNDcgMjEuNTE0N0wxLjUxNDcxIDEuNTE0NzFcIik7XG4gICAgICAgICAgICAgICAgbGluZTFQYXRoLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLCBgY3VycmVudENvbG9yYCk7XG4gICAgICAgICAgICAgICAgbGluZTFQYXRoLnNldEF0dHJpYnV0ZShcInN0cm9rZS13aWR0aFwiLCBgMmApO1xuICAgICAgICAgICAgICAgIGxpbmUxUGF0aC5zZXRBdHRyaWJ1dGUoXCJzdHJva2UtbGluZWNhcFwiLCBgcm91bmRgKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lMlBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIik7XG4gICAgICAgICAgICAgICAgbGluZTJQYXRoLnNldEF0dHJpYnV0ZShcImRcIiwgXCJNMS41MTQ2OSAyMS41MTQ3TDIxLjUxNDcgMS41MTQ3MVwiKTtcbiAgICAgICAgICAgICAgICBsaW5lMlBhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsIGBjdXJyZW50Q29sb3JgKTtcbiAgICAgICAgICAgICAgICBsaW5lMlBhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsIGAyYCk7XG4gICAgICAgICAgICAgICAgbGluZTJQYXRoLnNldEF0dHJpYnV0ZShcInN0cm9rZS1saW5lY2FwXCIsIGByb3VuZGApO1xuICAgICAgICAgICAgICAgIC8vIEFwcGVuZCBwYXRocyB0byBzdmdcbiAgICAgICAgICAgICAgICBjbG9zZVN2Zy5hcHBlbmRDaGlsZChsaW5lMVBhdGgpO1xuICAgICAgICAgICAgICAgIGNsb3NlU3ZnLmFwcGVuZENoaWxkKGxpbmUyUGF0aCk7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG1hcmt1cCBlbGVtZW50c1xuICAgICAgICAgICAgICAgIHRoaXMucG9wdXBDbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucG9wdXBDbG9zZS5jbGFzc0xpc3QuYWRkKFwicG9wdXAtY2xvc2VcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3B1cEltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwSW1hZ2UuY2xhc3NMaXN0LmFkZChcInBvcHVwLWltYWdlXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwXCIpO1xuICAgICAgICAgICAgICAgIC8vIEFwcGVuZCBzdmcgdG8gc3BhblxuICAgICAgICAgICAgICAgIHRoaXMucG9wdXBDbG9zZS5hcHBlbmRDaGlsZChjbG9zZVN2Zyk7XG4gICAgICAgICAgICAgICAgLy8gQXBwZW5kIGltZyBhbmQgc3BhbiB0byBwb3B1cCBkaXZcbiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLmFwcGVuZENoaWxkKHRoaXMucG9wdXBDbG9zZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3B1cC5hcHBlbmRDaGlsZCh0aGlzLnBvcHVwSW1hZ2UpO1xuICAgICAgICAgICAgICAgIC8vIEFwcGVuZCBwb3B1cCBkaXYgdG8gZ2FsbGVyeVxuICAgICAgICAgICAgICAgIHRoaXMuZ2FsbGVyeS5hcHBlbmRDaGlsZCh0aGlzLnBvcHVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9ucy56b29tUHJvcHMudHlwZSA9PT0gXCJmbHlvdXRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlWm9vbURpdigpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRldmljZVdpZHRoIDwgOTkyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FsbGVyeUNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJkYXRhLXpvb21cIiwgXCJpbmxpbmVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbGxlcnlDb250YWluZXIuc2V0QXR0cmlidXRlKFwiZGF0YS16b29tXCIsIFwiZmx5b3V0XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9ucy56b29tUHJvcHMudHlwZSAhPT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdhbGxlcnlDb250YWluZXIuc2V0QXR0cmlidXRlKFwiZGF0YS16b29tXCIsIFwiaW5saW5lXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlWm9vbURpdigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNob3cgYXJyb3dzXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldk1haW5CdXR0b24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZNYWluQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubmV4dE1haW5CdXR0b24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRNYWluQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucHJldkNhcm91c2VsQnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2Q2Fyb3VzZWxCdXR0b24uY2xhc3NMaXN0LmFkZChcInNob3dcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5uZXh0Q2Fyb3VzZWxCdXR0b24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRDYXJvdXNlbEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgdGhpcy5sYXVuY2hHYWxsZXJ5KCk7XG4gICAgfVxuICAgIC8vIEFycm93cyBzdmcnc1xuICAgIGNyZWF0ZU5leHRTdmcoKSB7XG4gICAgICAgIGNvbnN0IG5leHRTdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICAgICAgbmV4dFN2Zy5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwibm9uZVwiKTtcbiAgICAgICAgbmV4dFN2Zy5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsIFwiMCAwIDI0IDI0XCIpO1xuICAgICAgICBjb25zdCBuZXh0UGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcbiAgICAgICAgbmV4dFBhdGguc2V0QXR0cmlidXRlKFwiZFwiLCBcIk05IDE4TDE1IDEyTDkgNlwiKTtcbiAgICAgICAgbmV4dFBhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsIGBjdXJyZW50Q29sb3JgKTtcbiAgICAgICAgbmV4dFBhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsIGAycHhgKTtcbiAgICAgICAgbmV4dFBhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlLWxpbmVjYXBcIiwgYHJvdW5kYCk7XG4gICAgICAgIG5leHRQYXRoLnNldEF0dHJpYnV0ZShcInN0cm9rZS1saW5lam9pblwiLCBgcm91bmRgKTtcbiAgICAgICAgLy8gQXBwZW5kIHBhdGggdG8gc3ZnXG4gICAgICAgIG5leHRTdmcuYXBwZW5kQ2hpbGQobmV4dFBhdGgpO1xuICAgICAgICByZXR1cm4gbmV4dFN2ZztcbiAgICB9XG4gICAgY3JlYXRlUHJldlN2ZygpIHtcbiAgICAgICAgY29uc3QgcHJldlN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpO1xuICAgICAgICBwcmV2U3ZnLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIiwgXCIwIDAgMjQgMjRcIik7XG4gICAgICAgIHByZXZTdmcuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBcIm5vbmVcIik7XG4gICAgICAgIGNvbnN0IHByZXZQYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpO1xuICAgICAgICBwcmV2UGF0aC5zZXRBdHRyaWJ1dGUoXCJkXCIsIFwiTTE1IDE4TDkgMTJMMTUgNlwiKTtcbiAgICAgICAgcHJldlBhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsIGBjdXJyZW50Q29sb3JgKTtcbiAgICAgICAgcHJldlBhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsIGAycHhgKTtcbiAgICAgICAgcHJldlBhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlLWxpbmVjYXBcIiwgYHJvdW5kYCk7XG4gICAgICAgIHByZXZQYXRoLnNldEF0dHJpYnV0ZShcInN0cm9rZS1saW5lam9pblwiLCBgcm91bmRgKTtcbiAgICAgICAgLy8gQXBwZW5kIHBhdGggdG8gc3ZnXG4gICAgICAgIHByZXZTdmcuYXBwZW5kQ2hpbGQocHJldlBhdGgpO1xuICAgICAgICByZXR1cm4gcHJldlN2ZztcbiAgICB9XG4gICAgLy8gQ3JlYXRlIFpvb20gY29udGFpbmVyXG4gICAgY3JlYXRlWm9vbURpdigpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGRpdiB3aGVyZSB6b29tIHdpbGwgYmUgZGlzcGxheWVkXG4gICAgICAgIHRoaXMuem9vbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuem9vbURpdi5jbGFzc0xpc3QuYWRkKFwiZGlzcGxheS16b29tXCIpO1xuICAgICAgICAvLyBBcHBlbmQgaXQgdG8gaXQncyBwYXJlbnRcbiAgICAgICAgdGhpcy5pbWFnZUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnpvb21EaXYpO1xuICAgIH1cbiAgICAvLyBHZXQgY2Fyb3VzZWwgc2xpZGVyIHNjcmVlbiBzaXplXG4gICAgZ2V0Y2Fyb3VzZWxTbGlkZXJTY3JlZW5TaXplKCkge1xuICAgICAgICBpZiAoIXRoaXMuY2Fyb3VzZWxTbGlkZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYXJvdXNlbFNsaWRlckRpbWVuc2lvbiA9ICh0aGlzLmlzU2xpZGVyVmVydGljYWwpID9cbiAgICAgICAgICAgIHBhcnNlSW50KHRoaXMuaW1hZ2VDb250YWluZXIuc3R5bGUuaGVpZ2h0LCAxMCkgOlxuICAgICAgICAgICAgcGFyc2VJbnQodGhpcy5pbWFnZUNvbnRhaW5lci5zdHlsZS53aWR0aCwgMTApO1xuICAgICAgICByZXR1cm4gY2Fyb3VzZWxTbGlkZXJEaW1lbnNpb247XG4gICAgfVxuICAgIC8vIEdldCBjYXJvdXNlbCB3cmFwcGVyIGRpbWVuc2lvblxuICAgIGdldENhcm91c2VsV3JhcHBlckRpbWVuc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2Fyb3VzZWxTbGlkZXMubGVuZ3RoICogdGhpcy5jYXJvdXNlbFNsaWRlU2l6ZTtcbiAgICB9XG4gICAgLy8gR2V0IG1haW4gaW1hZ2Ugd2lkdGhcbiAgICBnZXRNYWluSW1hZ2VXaWR0aCgpIHtcbiAgICAgICAgbGV0IGltYWdlU2NyZWVuV2lkdGg7XG4gICAgICAgIGNvbnN0IGdhbGxlcnlTY3JlZW5XaWR0aCA9IHRoaXMuZ2FsbGVyeS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jYXJvdXNlbFN0eWxlID09PSBcInRodW1ibmFpbHNcIikge1xuICAgICAgICAgICAgaW1hZ2VTY3JlZW5XaWR0aCA9ICh0aGlzLmlzU2xpZGVyVmVydGljYWwpID9cbiAgICAgICAgICAgICAgICBnYWxsZXJ5U2NyZWVuV2lkdGggLSB0aGlzLm9wdGlvbnMuY2Fyb3VzZWxPZmZzZXQgLSB0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMud2lkdGggOlxuICAgICAgICAgICAgICAgIGdhbGxlcnlTY3JlZW5XaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLm9wdGlvbnMuY2Fyb3VzZWxTdHlsZSA9PT0gXCJpbmRpY2F0b3JzXCIpIHtcbiAgICAgICAgICAgIGltYWdlU2NyZWVuV2lkdGggPSAodGhpcy5pc1NsaWRlclZlcnRpY2FsKSA/XG4gICAgICAgICAgICAgICAgZ2FsbGVyeVNjcmVlbldpZHRoIC0gdGhpcy5vcHRpb25zLmNhcm91c2VsT2Zmc2V0IC1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmluZGljYXRvclByb3BzLnNpemUgLSB0aGlzLm9wdGlvbnMuaW5kaWNhdG9yUHJvcHMuc3BhY2luZyAqIDIgOlxuICAgICAgICAgICAgICAgIGdhbGxlcnlTY3JlZW5XaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGltYWdlU2NyZWVuV2lkdGggPSBnYWxsZXJ5U2NyZWVuV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltYWdlU2NyZWVuV2lkdGg7XG4gICAgfVxuICAgIGdldFBpaW9JbWFnZXMoKSB7XG4gICAgICAgIGNvbnN0IHBpaW9FbGVtZW50cyA9IHdpbmRvdy5waWlvLmdldFBpaW9FbGVtZW50cyh0aGlzLmltYWdlcyk7XG4gICAgICAgIHdpbmRvdy5waWlvLmdldFBpaW9JbWFnZXMocGlpb0VsZW1lbnRzLCB0aGlzLm9wdGlvbnMuem9vbVByb3BzLnJhdGlvKTtcbiAgICB9XG4gICAgLy8gR2V0IHRoZSBudW1iZXIgb2YgVGh1bWJuYWlscyBpbiBzaWdodFxuICAgIGdldFRodW1ic0luU2lnaHQoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMuZ2V0Y2Fyb3VzZWxTbGlkZXJTY3JlZW5TaXplKCkgLyAodGhpcy50aHVtYkltYWdlU2l6ZSArIHRoaXMub3B0aW9ucy50aHVtYm5haWxQcm9wcy5tYXJnaW4pKTtcbiAgICB9XG4gICAgLy8gTW92ZSBjYXJvdXNlbCBpZiBzZWxlY3RlZCBUaHVtYm5haWwgZ2V0cyBvdXQgb2Ygc2lnaHRcbiAgICBrZWVwVGh1bWJTZWxlY3RlZE9uU2lnaHQoaW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMuYXJlQWxsVGh1bWJzSW5TaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkVGh1bWJTaXplID0gdGhpcy5nYWxsZXJ5LnF1ZXJ5U2VsZWN0b3IoXCIuYWN0aXZlIC5pbWdUaHVtYi13cmFwcGVyXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBjYXJvdXNlbFNsaWRlclNpemUgPSB0aGlzLmNhcm91c2VsU2xpZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRUaHVtYlNpemUucmlnaHQgPiBjYXJvdXNlbFNsaWRlclNpemUucmlnaHQgfHxcbiAgICAgICAgICAgIHNlbGVjdGVkVGh1bWJTaXplLmxlZnQgPCBjYXJvdXNlbFNsaWRlclNpemUubGVmdCB8fFxuICAgICAgICAgICAgc2VsZWN0ZWRUaHVtYlNpemUudG9wIDwgY2Fyb3VzZWxTbGlkZXJTaXplLnRvcCB8fFxuICAgICAgICAgICAgc2VsZWN0ZWRUaHVtYlNpemUuYm90dG9tID4gY2Fyb3VzZWxTbGlkZXJTaXplLmJvdHRvbSkge1xuICAgICAgICAgICAgbW92ZUNhcm91c2VsXzEuZGVmYXVsdCh0aGlzLmNhcm91c2VsV3JhcHBlciwgc2VsZWN0ZWRUaHVtYlNpemUud2lkdGgsIGluZGV4LCB0aGlzLmNhcm91c2VsU2xpZGVyLCB0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMubWFyZ2luLCB0aGlzLmlzU2xpZGVyVmVydGljYWwpO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50aHVtYm5haWxQcm9wcy5uYXZpZ2F0aW9uU2hhcGUgIT09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICAgICAgZGlzYWJsZUNhcm91c2VsQnV0dG9uc18xLmRlZmF1bHQodGhpcy5hcmVBbGxUaHVtYnNJblNpZ2h0LCB0aGlzLmNhcm91c2VsLCB0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMubWFyZ2luKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWxDb3VudGVyID0gaW5kZXg7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gaW5kZXggKyAxOyBpIDwgKGluZGV4ICsgdGhpcy50aHVtYnNJblNpZ2h0ICsgMSk7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZEltYWdlKHRoaXMudGh1bWJJbWFnZXNbaV0sIHsgdHlwZTogXCJ0aHVtYm5haWxcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBMYXp5IGxvYWQgaW1hZ2VzXG4gICAgbG9hZEltYWdlKGltYWdlLCB7IHR5cGUgfSkge1xuICAgICAgICBpZiAoaW1hZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGh0bWxJbWFnZVNyYyA9IGltYWdlLmdldEF0dHJpYnV0ZShcInNyY1wiKTtcbiAgICAgICAgaWYgKGh0bWxJbWFnZVNyYyAhPT0gXCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3lINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQlJBQVwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YUltYWdlU3JjID0gaW1hZ2UuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbWFnZVwiKTtcbiAgICAgICAgaW1hZ2Uuc3JjID0gZGF0YUltYWdlU3JjO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBpaW9Eb21haW5LZXkgJiYgd2luZG93LnBpaW8pIHtcbiAgICAgICAgICAgIHdpbmRvdy5waWlvLm9uTG9hZEltYWdlKGltYWdlLCBkYXRhSW1hZ2VTcmMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIExvYWQgVGh1bWJuYWlsIGltYWdlcyBpbiBzaWdodFxuICAgIGxvYWRUaHVtYm5haWxJbWFnZXNJblNpZ2h0KCkge1xuICAgICAgICB0aGlzLnRodW1iSW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgJHt0aGlzLm9wdGlvbnMuZ2FsbGVyeVNlbGVjdG9yfSAuaW1nVGh1bWItd3JhcHBlciBpbWdgKTtcbiAgICAgICAgdGhpcy50aHVtYnNJblNpZ2h0ID0gdGhpcy5nZXRUaHVtYnNJblNpZ2h0KCk7XG4gICAgICAgIGNvbnN0IHRodW1ic1RvTG9hZCA9ICh0aGlzLnRodW1ic0luU2lnaHQgPCB0aGlzLnRodW1iSW1hZ2VzLmxlbmd0aCkgP1xuICAgICAgICAgICAgdGhpcy50aHVtYnNJblNpZ2h0ICsgMSA6IHRoaXMudGh1bWJzSW5TaWdodDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aHVtYnNUb0xvYWQ7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5sb2FkSW1hZ2UodGhpcy50aHVtYkltYWdlc1tpXSwgeyB0eXBlOiBcInRodW1ibmFpbFwiIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFNldCBjYXJvdXNlbCBEaW1lbnNpb25zXG4gICAgc2V0Q2Fyb3VzZWxEaW1lbnNpb24oKSB7XG4gICAgICAgIGNvbnN0IGRpbWVuc2lvbiA9IHRoaXMuZ2V0Q2Fyb3VzZWxXcmFwcGVyRGltZW5zaW9uKCk7XG4gICAgICAgIGlmICh0aGlzLmlzU2xpZGVyVmVydGljYWwpIHtcbiAgICAgICAgICAgIC8vIFNldCBzbGlkZXIgaGVpZ2h0XG4gICAgICAgICAgICB0aGlzLmNhcm91c2VsU2xpZGVyLnN0eWxlLmhlaWdodCA9IGAke3RoaXMuaW1hZ2VDb250YWluZXIuc3R5bGUuaGVpZ2h0fWA7XG4gICAgICAgICAgICAvLyBTZXQgd3JhcHBlciBkaW1lbnNpb25cbiAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWxXcmFwcGVyLnN0eWxlLmhlaWdodCA9IGAke2RpbWVuc2lvbn1weGA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBTZXQgd3JhcHBlciBkaW1lbnNpb25cbiAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWxXcmFwcGVyLnN0eWxlLndpZHRoID0gYCR7ZGltZW5zaW9ufXB4YDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBTZXQgaW5kaWNhdG9ycyBEaW1lbnNpb25zXG4gICAgc2V0TmF2SW5kaWNhdG9yc0RpbWVuc2lvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTbGlkZXJWZXJ0aWNhbCkge1xuICAgICAgICAgICAgdGhpcy5uYXZJbmRpY2F0b3JzLnN0eWxlLmhlaWdodCA9IGAke3RoaXMuaW1hZ2VDb250YWluZXIuc3R5bGUuaGVpZ2h0fWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm5hdkluZGljYXRvcnMuc3R5bGUud2lkdGggPSBgJHt0aGlzLmdldE1haW5JbWFnZVdpZHRoKCl9cHhgO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFNldCBzbGlkZXIgaW4gTWFpbiBTbGlkZXJcbiAgICBzZXRQb3NpdGlvbkJ5SW5kZXhJbk1haW5TbGlkZXIoaSkge1xuICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgdGhpcy50YXJnZXRJbmRleCA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPCB0aGlzLmltYWdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZEltYWdlKHRoaXMuaW1hZ2VzW2ldLCB7IHR5cGU6IFwibWFpblwiIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudFRyYW5zbGF0ZSA9IHRoaXMudGFyZ2V0SW5kZXggKiAtdGhpcy5pbWFnZVdpZHRoO1xuICAgICAgICB0aGlzLnByZXZUcmFuc2xhdGUgPSB0aGlzLmN1cnJlbnRUcmFuc2xhdGU7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTbGlkZSA9IHRoaXMubWFpbldyYXBwZXIucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuZ2FsbGVyeVNlbGVjdG9yICsgXCIgLmN1cnJlbnRcIik7XG4gICAgICAgIGNvbnN0IHRhcmdldFNsaWRlID0gZ2V0VGFyZ2V0RWxlbWVudF8xLmRlZmF1bHQoY3VycmVudFNsaWRlLCB0aGlzLnRhcmdldEluZGV4LCB0aGlzLm1haW5TbGlkZXMpO1xuICAgICAgICBtb3ZlTWFpblNsaWRlcl8xLmRlZmF1bHQodGhpcy5tYWluV3JhcHBlciwgY3VycmVudFNsaWRlLCB0YXJnZXRTbGlkZSwgdGhpcy50YXJnZXRJbmRleCwgdGhpcy5pbWFnZVdpZHRoLCB0aGlzLmNvbnRleHRNZW51LCB0aGlzLm9wZW5JbWFnZVRleHQpO1xuICAgICAgICAvLyBpZiBUaHVtYm5haWxzIGFyZSBlbmFibGVkIHVwZGF0ZSB0aHVtYm5haWxcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jYXJvdXNlbFN0eWxlID09PSBcInRodW1ibmFpbHNcIikge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFRodW1iID0gdGhpcy5jYXJvdXNlbFdyYXBwZXIucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuZ2FsbGVyeVNlbGVjdG9yICsgXCIgLmFjdGl2ZVwiKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldFRodW1iID0gZ2V0VGFyZ2V0RWxlbWVudF8xLmRlZmF1bHQoY3VycmVudFRodW1iLCB0aGlzLnRhcmdldEluZGV4LCB0aGlzLmNhcm91c2VsU2xpZGVzKTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRUaHVtYkluZGV4ID0gdGhpcy5jYXJvdXNlbFNsaWRlcy5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0gPT09IHRhcmdldFRodW1iKTtcbiAgICAgICAgICAgIGNvbnN0IHRodW1iSW1hZ2VUb0xvYWQgPSAobmV4dFRodW1iSW5kZXggPCB0aGlzLmNhcm91c2VsU2xpZGVzLmxlbmd0aCAtIDEpID9cbiAgICAgICAgICAgICAgICBuZXh0VGh1bWJJbmRleCArIDEgOlxuICAgICAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWxTbGlkZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHVwZGF0ZU5hdkVsZW1TZWxlY3RlZF8xLmRlZmF1bHQoY3VycmVudFRodW1iLCB0YXJnZXRUaHVtYiwgdGhpcy5vcHRpb25zLnRodW1ibmFpbFByb3BzLnNlbGVjdGVkU3R5bGUsIHRoaXMub3B0aW9ucy50aHVtYm5haWxQcm9wcy5zZWxlY3RlZEJvcmRlclBvc2l0aW9uLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5rZWVwVGh1bWJTZWxlY3RlZE9uU2lnaHQodGhpcy50YXJnZXRJbmRleCk7XG4gICAgICAgICAgICB0aGlzLmxvYWRJbWFnZSh0aGlzLnRodW1iSW1hZ2VzW3RodW1iSW1hZ2VUb0xvYWRdLCB7IHR5cGU6IFwidGh1bWJuYWlsXCIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgSW5kaWNhdG9ycyBhcmUgZW5hYmxlZCB1cGRhdGUgaW5kaWNhdG9yXG4gICAgICAgIC8vIFVwZGF0ZSBpbmRpY2F0b3JzXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2Fyb3VzZWxTdHlsZSA9PT0gXCJpbmRpY2F0b3JzXCIpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGljYXRvciA9IHRoaXMubmF2SW5kaWNhdG9ycy5xdWVyeVNlbGVjdG9yKFwiIC5hY3RpdmVcIik7XG4gICAgICAgICAgICBjb25zdCBpbmRpY2F0b3JzID0gQXJyYXkuZnJvbSh0aGlzLm5hdkluZGljYXRvcnMuY2hpbGRyZW4pO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0SW5kaWNhdG9yID0gZ2V0VGFyZ2V0RWxlbWVudF8xLmRlZmF1bHQodGhpcy5jdXJyZW50SW5kaWNhdG9yLCB0aGlzLnRhcmdldEluZGV4LCBpbmRpY2F0b3JzKTtcbiAgICAgICAgICAgIHVwZGF0ZU5hdkVsZW1TZWxlY3RlZF8xLmRlZmF1bHQodGhpcy5jdXJyZW50SW5kaWNhdG9yLCB0YXJnZXRJbmRpY2F0b3IsIHRoaXMub3B0aW9ucy50aHVtYm5haWxQcm9wcy5zZWxlY3RlZFN0eWxlLCB0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMuc2VsZWN0ZWRCb3JkZXJQb3NpdGlvbiwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBTZXQgbWFpbiBpbWFnZSBzaXplXG4gICAgc2V0U2xpZGVyRGltZW5zaW9ucygpIHtcbiAgICAgICAgdGhpcy5pbWFnZVdpZHRoID0gdGhpcy5nZXRNYWluSW1hZ2VXaWR0aCgpO1xuICAgICAgICAvLyBzZXQgaW1hZ2UgYW5kIHdyYXBwZXIgaGVpZ2h0XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLmFzcGVjdFJhdGlvID09PSBcInN0cmluZ1wiICYmIHRoaXMub3B0aW9ucy5hc3BlY3RSYXRpby5pbmNsdWRlcyhcIjpcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkcyA9IHRoaXMub3B0aW9ucy5hc3BlY3RSYXRpby5zcGxpdChcIjpcIik7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmltYWdlV2lkdGggLyBwYXJzZUludChmaWVsZHNbMF0sIDEwKSAqIHBhcnNlSW50KGZpZWxkc1sxXSwgMTApO1xuICAgICAgICAgICAgdGhpcy5pbWFnZUNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgICAgICAgICAgdGhpcy5tYWluV3JhcHBlci5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuYXNwZWN0UmF0aW8gPT09IFwib2JqZWN0XCIgJiYgdGhpcy5vcHRpb25zLmFzcGVjdFJhdGlvICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke3RoaXMub3B0aW9ucy5hc3BlY3RSYXRpby5oZWlnaHR9cHhgO1xuICAgICAgICAgICAgdGhpcy5tYWluV3JhcHBlci5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLm9wdGlvbnMuYXNwZWN0UmF0aW8uaGVpZ2h0fXB4YDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5pbWFnZVdpZHRofXB4YDtcbiAgICAgICAgICAgIHRoaXMubWFpbldyYXBwZXIuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5pbWFnZVdpZHRofXB4YDtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgaW1hZ2Ugd2lkdGhcbiAgICAgICAgdGhpcy5pbWFnZUNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGAke3RoaXMuaW1hZ2VXaWR0aH1weGA7XG4gICAgICAgIC8vIHNldCB3cmFwcGVyIHdpZHRoXG4gICAgICAgIHRoaXMubWFpbldyYXBwZXIuc3R5bGUud2lkdGggPSBgJHt0aGlzLmltYWdlV2lkdGggKiB0aGlzLm1haW5TbGlkZXMubGVuZ3RofXB4YDtcbiAgICB9XG4gICAgLy8gU2V0IFpvb20gdHlwZVxuICAgIHNldFpvb20oKSB7XG4gICAgICAgIGlmICghdGhpcy56b29tRGl2KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbWFnZVdpZHRoID0gdGhpcy5nZXRNYWluSW1hZ2VXaWR0aCgpO1xuICAgICAgICAvLyBBZGQgem9vbSBwb2ludGVyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuem9vbVByb3BzLnR5cGUgIT09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlQ29udGFpbmVyLnN0eWxlLmN1cnNvciA9IFwiem9vbS1pblwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbWFnZUNvbnRhaW5lci5zdHlsZS5jdXJzb3IgPSBcImdyYWJcIjtcbiAgICAgICAgfVxuICAgICAgICAvLyBQb3B1cCB6b29tXG4gICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5nYWxsZXJ5U2VsZWN0b3IgKyBcIiBbZGF0YS16b29tPXBvcHVwXVwiKSkge1xuICAgICAgICAgICAgdGhpcy5tYWluQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEltYWdlID0gdGhpcy5tYWluV3JhcHBlci5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5nYWxsZXJ5U2VsZWN0b3IgKyBcIiAuY3VycmVudCBpbWdcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3B1cC5jbGFzc0xpc3QuYWRkKFwib3BlblwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwSW1hZ2Uuc2V0QXR0cmlidXRlKFwic3JjXCIsIGAke2N1cnJlbnRJbWFnZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWltYWdlXCIpfWApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnBvcHVwQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIgLnBvcHVwLWltYWdlXCIpLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veUg1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlCUkFBXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcIm9wZW5cIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEZseW91dCB6b29tXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuZ2FsbGVyeVNlbGVjdG9yICsgXCIgW2RhdGEtem9vbT1mbHlvdXRdXCIpXG4gICAgICAgICAgICAmJiB0aGlzLmRldmljZVdpZHRoID49IDk5Mikge1xuICAgICAgICAgICAgdGhpcy5pc0ZseW91dFZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIFNldCBmbHlvdXQgZGltZW5zaW9uXG4gICAgICAgICAgICB0aGlzLnNldFpvb21EaXZEaW1lbnNpb24oKTtcbiAgICAgICAgICAgIC8vIFNldCBmbHlvdXQgcG9zaXRpb25cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuem9vbVByb3BzLnBvc2l0aW9uID09PSBcImxlZnRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuem9vbURpdi5zdHlsZS5sZWZ0ID0gYC0ke3RoaXMuaW1hZ2VXaWR0aH1weGA7XG4gICAgICAgICAgICAgICAgdGhpcy56b29tRGl2LnN0eWxlLnRvcCA9IGAwcHhgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5vcHRpb25zLnpvb21Qcm9wcy5wb3NpdGlvbiA9PT0gXCJ0b3BcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuem9vbURpdi5zdHlsZS5sZWZ0ID0gYDBweGA7XG4gICAgICAgICAgICAgICAgdGhpcy56b29tRGl2LnN0eWxlLnRvcCA9IGAtJHt0aGlzLmltYWdlSGVpZ2h0fXB4YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9ucy56b29tUHJvcHMucG9zaXRpb24gPT09IFwiYm90dG9tXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnpvb21EaXYuc3R5bGUubGVmdCA9IGAwcHhgO1xuICAgICAgICAgICAgICAgIHRoaXMuem9vbURpdi5zdHlsZS50b3AgPSBgJHt0aGlzLmltYWdlSGVpZ2h0fXB4YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuem9vbURpdi5zdHlsZS5sZWZ0ID0gYCR7dGhpcy5pbWFnZVdpZHRofXB4YDtcbiAgICAgICAgICAgICAgICB0aGlzLnpvb21EaXYuc3R5bGUudG9wID0gYDBweGA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1haW5Db250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJvdmVyXCIsIHRoaXMuaGFuZGxlUHJlbG9hZEJnWm9vbSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5tYWluQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMuaGFuZGxlUHJlbG9hZEJnWm9vbSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5tYWluQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgdGhpcy5oYW5kbGVQcmVsb2FkQmdab29tLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLm1haW5Db250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuZmx5b3V0SGFuZGxlciwgZmFsc2UpO1xuICAgICAgICAgICAgLy8gRGlzYWJsZSB6b29tIGlmIGNsaWNrZWQgb3V0c2lkZVxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2xpY2tJbnNpZGUgPSB0aGlzLm1haW5Db250YWluZXIuY29udGFpbnModGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2xpZGUgPSB0aGlzLm1haW5XcmFwcGVyLnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmdhbGxlcnlTZWxlY3RvciArIFwiIC5jdXJyZW50XCIpO1xuICAgICAgICAgICAgICAgIGlmICghaXNDbGlja0luc2lkZSAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5nYWxsZXJ5U2VsZWN0b3IgKyBcIiBbZGF0YS16b29tPWZseW91dF1cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNGbHlvdXRWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzRmx5b3V0VmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNsaWRlLmNsYXNzTGlzdC5yZW1vdmUoXCJmbHlvdXQtb3BlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuem9vbURpdi5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbkNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuZmx5b3V0Wm9vbSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFpvb20gaW5saW5lXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5vcHRpb25zLnpvb21Qcm9wcy50eXBlICE9PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgLy8gU2V0IGlubGluZSBkaW1lbnNpb25cbiAgICAgICAgICAgIHRoaXMuc2V0Wm9vbURpdkRpbWVuc2lvbigpO1xuICAgICAgICAgICAgLy8gU2V0IGlubGluZSBwb3NpdGlvblxuICAgICAgICAgICAgdGhpcy56b29tRGl2LnN0eWxlLmxlZnQgPSBgMHB4YDtcbiAgICAgICAgICAgIHRoaXMuem9vbURpdi5zdHlsZS50b3AgPSBgMHB4YDtcbiAgICAgICAgICAgIHRoaXMuem9vbURpdi5zdHlsZS56SW5kZXggPSBgMWA7XG4gICAgICAgICAgICB0aGlzLm1haW5Db250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJvdmVyXCIsIHRoaXMuaGFuZGxlUHJlbG9hZEJnWm9vbSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5tYWluQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMuaGFuZGxlUHJlbG9hZEJnWm9vbSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5tYWluQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgdGhpcy5oYW5kbGVQcmVsb2FkQmdab29tLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLm1haW5Db250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaW5saW5lRW50ZXJIYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnpvb21EaXYuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaW5saW5lTGVhdmVIYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgICAgICAvLyBEaXNhYmxlIHpvb20gaWYgY2xpY2tlZCBvdXRzaWRlXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNDbGlja0luc2lkZSA9IHRoaXMubWFpbkNvbnRhaW5lci5jb250YWlucyh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTbGlkZSA9IHRoaXMubWFpbldyYXBwZXIucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuZ2FsbGVyeVNlbGVjdG9yICsgXCIgLmN1cnJlbnRcIik7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0NsaWNrSW5zaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuem9vbVByb3BzLnR5cGUgIT09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGUuY2xhc3NMaXN0LnJlbW92ZShcImlubGluZS1vcGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy56b29tRGl2LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1bnNldGA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnpvb21EaXYuY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW5Db250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLmlubGluZVpvb20sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIExBVU5DSCBHQUxMRVJZXG4gICAgbGF1bmNoR2FsbGVyeSgpIHtcbiAgICAgICAgdGhpcy5tYWluU2xpZGVzID0gQXJyYXkuZnJvbSh0aGlzLm1haW5XcmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIgW2RhdGEtZ2FsbGVyeV1cIikpO1xuICAgICAgICAvLyBTZXQgdmVydGljYWwgdmFyaWFibGUgYWNvcnJkaW5nIHRvIGNhcm91c2VsUG9zaXRpb25cbiAgICAgICAgKHRoaXMub3B0aW9ucy5jYXJvdXNlbFBvc2l0aW9uID09PSBcImxlZnRcIiB8fCB0aGlzLm9wdGlvbnMuY2Fyb3VzZWxQb3NpdGlvbiA9PT0gXCJyaWdodFwiKVxuICAgICAgICAgICAgPyB0aGlzLmlzU2xpZGVyVmVydGljYWwgPSB0cnVlIDogdGhpcy5pc1NsaWRlclZlcnRpY2FsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW1hZ2VXaWR0aCA9IHRoaXMuZ2V0TWFpbkltYWdlV2lkdGgoKTtcbiAgICAgICAgdGhpcy5zZXRTbGlkZXJEaW1lbnNpb25zKCk7XG4gICAgICAgIC8vIFNldCBIb3ZlciBhbmQgRm9jdXMgY29sb3JzIGFjY29yZGluZyB0byB0aGUgdGhlbWVQcm9wcy5iYWNrZ3JvdW5kIHBpY2tlZC5cbiAgICAgICAgY29uc3QgYmFja2dyb3VuZENvbG9yID0gdGhpcy5vcHRpb25zLnRoZW1lUHJvcHMuYmFja2dyb3VuZDtcbiAgICAgICAgaWYgKGJhY2tncm91bmRDb2xvci5pbmNsdWRlcyhcImhzbFwiKSB8fCBiYWNrZ3JvdW5kQ29sb3IuaW5jbHVkZXMoXCJoc2xhXCIpKSB7XG4gICAgICAgICAgICBjb25zdCBjb2xvcldpdGhvdXRTcGFjZXMgPSBiYWNrZ3JvdW5kQ29sb3Iuc3BsaXQoXCIsXCIpO1xuICAgICAgICAgICAgY29uc3QgaHNsTHVtaW5vc2l0eSA9IHBhcnNlSW50KGNvbG9yV2l0aG91dFNwYWNlc1syXS5zcGxpdChcIiVcIilbMF0sIDEwKTtcbiAgICAgICAgICAgIGlmIChoc2xMdW1pbm9zaXR5ID49IDUwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJhY2tncm91bmRDb2xvci5pbmNsdWRlcyhcImhzbGFcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlckJhY2tncm91bmRDb2xvciA9IGAke2NvbG9yV2l0aG91dFNwYWNlc1swXX0sJHtjb2xvcldpdGhvdXRTcGFjZXNbMV19LCAke2hzbEx1bWlub3NpdHkgLSAyMH0lLCR7Y29sb3JXaXRob3V0U3BhY2VzWzNdfWA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNCYWNrZ3JvdW5kQ29sb3IgPSBgJHtjb2xvcldpdGhvdXRTcGFjZXNbMF19LCR7Y29sb3JXaXRob3V0U3BhY2VzWzFdfSwgJHtoc2xMdW1pbm9zaXR5IC0gMzB9JSwke2NvbG9yV2l0aG91dFNwYWNlc1szXX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlckJhY2tncm91bmRDb2xvciA9IGAke2NvbG9yV2l0aG91dFNwYWNlc1swXX0sJHtjb2xvcldpdGhvdXRTcGFjZXNbMV19LCAke2hzbEx1bWlub3NpdHkgLSAyMH0lKWA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNCYWNrZ3JvdW5kQ29sb3IgPSBgJHtjb2xvcldpdGhvdXRTcGFjZXNbMF19LCR7Y29sb3JXaXRob3V0U3BhY2VzWzFdfSwgJHtoc2xMdW1pbm9zaXR5IC0gMzB9JSlgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kQ29sb3IuaW5jbHVkZXMoXCJoc2xhXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJCYWNrZ3JvdW5kQ29sb3IgPSBgJHtjb2xvcldpdGhvdXRTcGFjZXNbMF19LCR7Y29sb3JXaXRob3V0U3BhY2VzWzFdfSwgJHtoc2xMdW1pbm9zaXR5ICsgMjB9JSwke2NvbG9yV2l0aG91dFNwYWNlc1szXX1gO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzQmFja2dyb3VuZENvbG9yID0gYCR7Y29sb3JXaXRob3V0U3BhY2VzWzBdfSwke2NvbG9yV2l0aG91dFNwYWNlc1sxXX0sICR7aHNsTHVtaW5vc2l0eSArIDEwfSUsJHtjb2xvcldpdGhvdXRTcGFjZXNbM119YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJCYWNrZ3JvdW5kQ29sb3IgPSBgJHtjb2xvcldpdGhvdXRTcGFjZXNbMF19LCR7Y29sb3JXaXRob3V0U3BhY2VzWzFdfSwgJHtoc2xMdW1pbm9zaXR5ICsgMjB9JSlgO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzQmFja2dyb3VuZENvbG9yID0gYCR7Y29sb3JXaXRob3V0U3BhY2VzWzBdfSwke2NvbG9yV2l0aG91dFNwYWNlc1sxXX0sICR7aHNsTHVtaW5vc2l0eSArIDEwfSUpYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IFRoZW1lIENvbG9yc1xuICAgICAgICBjb25zdCBzZWxlY3RvclN0eWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuZ2FsbGVyeVNlbGVjdG9yKTtcbiAgICAgICAgc2VsZWN0b3JTdHlsZS5zdHlsZS5zZXRQcm9wZXJ0eShgLS1tYWluLWNvbG9yYCwgdGhpcy5vcHRpb25zLnRoZW1lUHJvcHMuY29sb3IpO1xuICAgICAgICBzZWxlY3RvclN0eWxlLnN0eWxlLnNldFByb3BlcnR5KGAtLWJnLWNvbG9yYCwgdGhpcy5vcHRpb25zLnRoZW1lUHJvcHMuYmFja2dyb3VuZCk7XG4gICAgICAgIHNlbGVjdG9yU3R5bGUuc3R5bGUuc2V0UHJvcGVydHkoYC0tYmctaG92ZXItY29sb3JgLCB0aGlzLmhvdmVyQmFja2dyb3VuZENvbG9yKTtcbiAgICAgICAgc2VsZWN0b3JTdHlsZS5zdHlsZS5zZXRQcm9wZXJ0eShgLS1iZy1mb2N1cy1jb2xvcmAsIHRoaXMuZm9jdXNCYWNrZ3JvdW5kQ29sb3IpO1xuICAgICAgICAvLyBSaWdodCBjbGljayBtZW51XG4gICAgICAgIHRoaXMubWFpbkNvbnRhaW5lci5vbmNvbnRleHRtZW51ID0gKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlWCA9IGUuY2xpZW50WDtcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlWSA9IGUuY2xpZW50WTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dE1lbnUuc3R5bGUudG9wID0gYCR7bW91c2VZfXB4YDtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dE1lbnUuc3R5bGUubGVmdCA9IGAke21vdXNlWH1weGA7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgICAgIGlmICh0YXJnZXQub2Zmc2V0UGFyZW50ICE9PSB0aGlzLmNvbnRleHRNZW51KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0TWVudS5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFNldCByaWdodCBjbGljayBtZW51IHRleHQgY29udGVudFxuICAgICAgICBjb25zdCBuYXZpZ2F0b3JMYW5ndWFnZSA9IG5hdmlnYXRvci5sYW5ndWFnZS5zcGxpdChcIi1cIik7XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlID0gbmF2aWdhdG9yTGFuZ3VhZ2Uuc2hpZnQoKTtcbiAgICAgICAgY29uc3QgY291bnRyeSA9IG5hdmlnYXRvckxhbmd1YWdlLnBvcCgpO1xuICAgICAgICBpZiAobGFuZ3VhZ2VzX2pzb25fMS5kZWZhdWx0W2xhbmd1YWdlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBqc29uTGFuZ3VhZ2UgPSBsYW5ndWFnZXNfanNvbl8xLmRlZmF1bHRbbGFuZ3VhZ2VdO1xuICAgICAgICAgICAgaWYgKGNvdW50cnkgIT09IHVuZGVmaW5lZCAmJiBqc29uTGFuZ3VhZ2UuaGFzT3duUHJvcGVydHkoY291bnRyeSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5JbWFnZVRleHQgPSBqc29uTGFuZ3VhZ2VbY291bnRyeV0uT3BlbkltYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3QgPSBPYmplY3Qua2V5cyhqc29uTGFuZ3VhZ2UpWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMub3BlbkltYWdlVGV4dCA9IGpzb25MYW5ndWFnZVtmaXJzdF0uT3BlbkltYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vcGVuSW1hZ2VUZXh0ID0gbGFuZ3VhZ2VzX2pzb25fMS5kZWZhdWx0LmVuLlVTLk9wZW5JbWFnZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgcmlnaHQgY2xpY2sgbWVudSBmaXJzdCBpbWFnZSB1cmxcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxVUkwgPSB0aGlzLmltYWdlc1swXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWltYWdlXCIpO1xuICAgICAgICAvLyBDcmVhdGUgYW5jaG9yIHRhZ1xuICAgICAgICBjb25zdCBhbmNob3J0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgYW5jaG9ydGFnLmNsYXNzTGlzdC5hZGQoXCJpdGVtXCIpO1xuICAgICAgICBhbmNob3J0YWcuc2V0QXR0cmlidXRlKFwidGFyZ2V0XCIsIFwiX2JsYW5rXCIpO1xuICAgICAgICBhbmNob3J0YWcuc2V0QXR0cmlidXRlKFwicmVsXCIsIFwibm9vcGVuZXIgbm9yZWZlcnJlclwiKTtcbiAgICAgICAgYW5jaG9ydGFnLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgb3JpZ2luYWxVUkwpO1xuICAgICAgICBhbmNob3J0YWcuY2xhc3NMaXN0LmFkZChcIml0ZW1cIik7XG4gICAgICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLm9wZW5JbWFnZVRleHQpO1xuICAgICAgICAvLyBBcHBlbmQgaXQgdG8gaXQncyBwYXJlbnRcbiAgICAgICAgYW5jaG9ydGFnLmFwcGVuZENoaWxkKHRleHQpO1xuICAgICAgICB0aGlzLmNvbnRleHRNZW51LmFwcGVuZENoaWxkKGFuY2hvcnRhZyk7XG4gICAgICAgIHRoaXMuY2Fyb3VzZWxDb3VudGVyID0gMDtcbiAgICAgICAgLy8gTUFJTiBOQVZJR0FUSU9OIEJVVFRPTlNcbiAgICAgICAgLy8gSWYgTmF2aWdhdGlvbiBCdXR0b25zIGVuYWJsZWRcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tYWluTmF2aWdhdGlvbiAhPT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgIC8vIFNldCBtYWluIGJ1dHRvbiBzdHlsZXNcbiAgICAgICAgICAgIHRoaXMucHJldk1haW5CdXR0b24uY2xhc3NMaXN0LmFkZChgYnRuLW1haW4tJHt0aGlzLm9wdGlvbnMubWFpbk5hdmlnYXRpb259YCk7XG4gICAgICAgICAgICB0aGlzLm5leHRNYWluQnV0dG9uLmNsYXNzTGlzdC5hZGQoYGJ0bi1tYWluLSR7dGhpcy5vcHRpb25zLm1haW5OYXZpZ2F0aW9ufWApO1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgTWFpbiBCdXR0b25zIG11c3QgYmUgZGlzYWJsZWRcbiAgICAgICAgICAgIGlmICh0aGlzLm1haW5TbGlkZXMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZNYWluQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRNYWluQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFByZWxvYWQgSW1hZ2VcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVByZXZNYWluSW1hZ2VMb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTbGlkZSA9IHRoaXMubWFpbldyYXBwZXIucXVlcnlTZWxlY3RvcihcIi5jdXJyZW50XCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZTbGlkZSA9IGN1cnJlbnRTbGlkZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZJbmRleCA9IHRoaXMubWFpblNsaWRlcy5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0gPT09IHByZXZTbGlkZSk7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZJbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkSW1hZ2UodGhpcy5pbWFnZXNbcHJldkluZGV4XSwgeyB0eXBlOiBcIm1haW5cIiB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gUHJldmlvdXMgTWFpbiBCdXR0b25cbiAgICAgICAgICAgIC8vIFByZWxvYWQgaW1hZ2VcbiAgICAgICAgICAgIGlmICh3aW5kb3cuUG9pbnRlckV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2TWFpbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm92ZXJcIiwgaGFuZGxlUHJldk1haW5JbWFnZUxvYWQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucHJldk1haW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgaGFuZGxlUHJldk1haW5JbWFnZUxvYWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZNYWluQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgaGFuZGxlUHJldk1haW5JbWFnZUxvYWQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE9uIGNsaWNrIGJlaGF2aW91clxuICAgICAgICAgICAgdGhpcy5wcmV2TWFpbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2xpZGUgPSB0aGlzLm1haW5XcmFwcGVyLnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmdhbGxlcnlTZWxlY3RvciArIFwiIC5jdXJyZW50XCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZTbGlkZSA9IGN1cnJlbnRTbGlkZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZJbmRleCA9IHRoaXMubWFpblNsaWRlcy5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0gPT09IHByZXZTbGlkZSk7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZJbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkSW1hZ2UodGhpcy5pbWFnZXNbcHJldkluZGV4XSwgeyB0eXBlOiBcIm1haW5cIiB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbW92ZU1haW5TbGlkZXJfMS5kZWZhdWx0KHRoaXMubWFpbldyYXBwZXIsIGN1cnJlbnRTbGlkZSwgcHJldlNsaWRlLCBwcmV2SW5kZXgsIHRoaXMuaW1hZ2VXaWR0aCwgdGhpcy5jb250ZXh0TWVudSwgdGhpcy5vcGVuSW1hZ2VUZXh0KTtcbiAgICAgICAgICAgICAgICBkaXNhYmxlTWFpbkJ1dHRvbnNfMS5kZWZhdWx0KHRoaXMubWFpblNsaWRlcywgdGhpcy5wcmV2TWFpbkJ1dHRvbiwgdGhpcy5uZXh0TWFpbkJ1dHRvbiwgcHJldkluZGV4KTtcbiAgICAgICAgICAgICAgICAvLyBUcmFuc2l0aW9uc1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiA9PT0gXCJmYWRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFkZUluXzEuZGVmYXVsdCh0aGlzLmdhbGxlcnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyYW5zaXRpb24gPT09IFwic2xpZGVcIikge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZV8xLmRlZmF1bHQodGhpcy5nYWxsZXJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gWm9vbSBpbmxpbmVcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYWluV3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiIC5pbmxpbmUtb3BlblwiKSkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGUuY2xhc3NMaXN0LnRvZ2dsZShcImlubGluZS1vcGVuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm1haW5Db250YWluZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVuc2V0YDtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgVGh1bWJuYWlsc1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2Fyb3VzZWxTdHlsZSA9PT0gXCJ0aHVtYm5haWxzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRodW1iID0gdGhpcy5jYXJvdXNlbFdyYXBwZXIucXVlcnlTZWxlY3RvcihcIiAuYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2VGh1bWIgPSBjdXJyZW50VGh1bWIucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTmF2RWxlbVNlbGVjdGVkXzEuZGVmYXVsdChjdXJyZW50VGh1bWIsIHByZXZUaHVtYiwgdGhpcy5vcHRpb25zLnRodW1ibmFpbFByb3BzLnNlbGVjdGVkU3R5bGUsIHRoaXMub3B0aW9ucy50aHVtYm5haWxQcm9wcy5zZWxlY3RlZEJvcmRlclBvc2l0aW9uLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBUaHVtYlNlbGVjdGVkT25TaWdodChwcmV2SW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgaW5kaWNhdG9yc1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2Fyb3VzZWxTdHlsZSA9PT0gXCJpbmRpY2F0b3JzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kaWNhdG9yID0gdGhpcy5uYXZJbmRpY2F0b3JzLnF1ZXJ5U2VsZWN0b3IoXCIgLmFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2SW5kaWNhdG9yID0gdGhpcy5jdXJyZW50SW5kaWNhdG9yLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZU5hdkVsZW1TZWxlY3RlZF8xLmRlZmF1bHQodGhpcy5jdXJyZW50SW5kaWNhdG9yLCB0aGlzLnByZXZJbmRpY2F0b3IsIHRoaXMub3B0aW9ucy50aHVtYm5haWxQcm9wcy5zZWxlY3RlZFN0eWxlLCB0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMuc2VsZWN0ZWRCb3JkZXJQb3NpdGlvbiwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZU5leHRNYWluSW1hZ2VMb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFNsaWRlID0gdGhpcy5tYWluV3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiIC5jdXJyZW50XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dFNsaWRlID0gdGhpcy5jdXJyZW50U2xpZGUubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dEluZGV4ID0gdGhpcy5tYWluU2xpZGVzLmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbSA9PT0gdGhpcy5uZXh0U2xpZGUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5leHRJbmRleCA8IHRoaXMuaW1hZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRJbWFnZSh0aGlzLmltYWdlc1t0aGlzLm5leHRJbmRleF0sIHsgdHlwZTogXCJtYWluXCIgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIE5leHQgQnV0dG9uXG4gICAgICAgICAgICBpZiAod2luZG93LlBvaW50ZXJFdmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dE1haW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJvdmVyXCIsIGhhbmRsZU5leHRNYWluSW1hZ2VMb2FkLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRNYWluQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGhhbmRsZU5leHRNYWluSW1hZ2VMb2FkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0TWFpbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIGhhbmRsZU5leHRNYWluSW1hZ2VMb2FkLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm5leHRNYWluQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTbGlkZSA9IHRoaXMubWFpbldyYXBwZXIucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuZ2FsbGVyeVNlbGVjdG9yICsgXCIgLmN1cnJlbnRcIik7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFNsaWRlID0gY3VycmVudFNsaWRlLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRJbmRleCA9IHRoaXMubWFpblNsaWRlcy5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0gPT09IG5leHRTbGlkZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubmV4dEluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRJbWFnZSh0aGlzLmltYWdlc1t0aGlzLm5leHRJbmRleF0sIHsgdHlwZTogXCJtYWluXCIgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1vdmVNYWluU2xpZGVyXzEuZGVmYXVsdCh0aGlzLm1haW5XcmFwcGVyLCBjdXJyZW50U2xpZGUsIG5leHRTbGlkZSwgdGhpcy5uZXh0SW5kZXgsIHRoaXMuaW1hZ2VXaWR0aCwgdGhpcy5jb250ZXh0TWVudSwgdGhpcy5vcGVuSW1hZ2VUZXh0KTtcbiAgICAgICAgICAgICAgICBkaXNhYmxlTWFpbkJ1dHRvbnNfMS5kZWZhdWx0KHRoaXMubWFpblNsaWRlcywgdGhpcy5wcmV2TWFpbkJ1dHRvbiwgdGhpcy5uZXh0TWFpbkJ1dHRvbiwgdGhpcy5uZXh0SW5kZXgpO1xuICAgICAgICAgICAgICAgIC8vIFRyYW5zaXRpb25zXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFuc2l0aW9uID09PSBcImZhZGVcIikge1xuICAgICAgICAgICAgICAgICAgICBmYWRlSW5fMS5kZWZhdWx0KHRoaXMuZ2FsbGVyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiA9PT0gXCJzbGlkZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlXzEuZGVmYXVsdCh0aGlzLmdhbGxlcnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBab29tIGlubGluZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1haW5XcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIgLmlubGluZS1vcGVuXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFNsaWRlLmNsYXNzTGlzdC50b2dnbGUoXCJpbmxpbmUtb3BlblwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5tYWluQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1bnNldGA7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIFRodW1ibmFpbHNcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNhcm91c2VsU3R5bGUgPT09IFwidGh1bWJuYWlsc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaHVtYiA9IHRoaXMuY2Fyb3VzZWxXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIgLmFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFRodW1iID0gY3VycmVudFRodW1iLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGh1bWJzQXJyYXkgPSBBcnJheS5mcm9tKHRoaXMuY2Fyb3VzZWxXcmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2xpZGVcIikpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGh1bWJJbmRleCA9IHRodW1ic0FycmF5LmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbSA9PT0gbmV4dFRodW1iKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGh1bWJJbWFnZVRvTG9hZCA9IChuZXh0VGh1bWJJbmRleCA8IHRodW1ic0FycmF5Lmxlbmd0aCAtIDEpID9cbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRUaHVtYkluZGV4ICsgMSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHVtYnNBcnJheS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVOYXZFbGVtU2VsZWN0ZWRfMS5kZWZhdWx0KGN1cnJlbnRUaHVtYiwgbmV4dFRodW1iLCB0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMuc2VsZWN0ZWRTdHlsZSwgdGhpcy5vcHRpb25zLnRodW1ibmFpbFByb3BzLnNlbGVjdGVkQm9yZGVyUG9zaXRpb24sIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcFRodW1iU2VsZWN0ZWRPblNpZ2h0KHRoaXMubmV4dEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkSW1hZ2UodGhpcy50aHVtYkltYWdlc1t0aHVtYkltYWdlVG9Mb2FkXSwgeyB0eXBlOiBcInRodW1ibmFpbFwiIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgaW5kaWNhdG9yc1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2Fyb3VzZWxTdHlsZSA9PT0gXCJpbmRpY2F0b3JzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kaWNhdG9yID0gdGhpcy5uYXZJbmRpY2F0b3JzLnF1ZXJ5U2VsZWN0b3IoXCIgLmFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dERvdCA9IHRoaXMuY3VycmVudEluZGljYXRvci5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZU5hdkVsZW1TZWxlY3RlZF8xLmRlZmF1bHQodGhpcy5jdXJyZW50SW5kaWNhdG9yLCBuZXh0RG90LCB0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMuc2VsZWN0ZWRTdHlsZSwgdGhpcy5vcHRpb25zLnRodW1ibmFpbFByb3BzLnNlbGVjdGVkQm9yZGVyUG9zaXRpb24sIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9VQ0ggJiBNT1VTRSBFVkVOVFMgTUFJTiBHQUxMRVJZXG4gICAgICAgIC8vICBSZW1vdmUgZHJhZyBiZWhhdmlvdXJcbiAgICAgICAgdGhpcy5nYWxsZXJ5LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgKGUpID0+IGUucHJldmVudERlZmF1bHQoKSk7XG4gICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IDA7XG4gICAgICAgIHRoaXMuY3VycmVudFRyYW5zbGF0ZSA9IDA7XG4gICAgICAgIHRoaXMucHJldlRyYW5zbGF0ZSA9IDA7XG4gICAgICAgIHRoaXMudGFyZ2V0SW5kZXggPSAwO1xuICAgICAgICBmdW5jdGlvbiBnZXRwb3NpdGlvblgoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGUudHlwZS5pbmNsdWRlcyhcInRvdWNoXCIpID8gZS50b3VjaGVzWzBdLmNsaWVudFggOiBlLnBhZ2VYO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGdldHBvc2l0aW9uWShlKSB7XG4gICAgICAgICAgICByZXR1cm4gZS50eXBlLmluY2x1ZGVzKFwidG91Y2hcIikgPyBlLnRvdWNoZXNbMF0uY2xpZW50WSA6IGUucGFnZVk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ2VzdHVyZVN0YXJ0ID0gKGluZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gZ2V0cG9zaXRpb25YKGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNNYWluU2xpZGVyU3dpcGluZyA9IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBnZXN0dXJlTW92ZSA9IChlKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc01haW5TbGlkZXJTd2lwaW5nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gZ2V0cG9zaXRpb25YKGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFRyYW5zbGF0ZSA9IHRoaXMucHJldlRyYW5zbGF0ZSArIGN1cnJlbnRQb3NpdGlvbiAtIHRoaXMuc3RhcnRQb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZ2VzdHVyZUVuZCA9IChldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5kUG9zaXRpb24gPSBnZXRwb3NpdGlvblgoZXYpO1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmdhbGxlcnlTZWxlY3RvciArIFwiIFtkYXRhLXpvb209Zmx5b3V0XVwiKSAmJlxuICAgICAgICAgICAgICAgIHRoaXMuZGV2aWNlV2lkdGggPCA5OTIgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuZ2FsbGVyeVNlbGVjdG9yICsgXCIgLmlubGluZS1vcGVuXCIpIHx8XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuZ2FsbGVyeVNlbGVjdG9yICsgXCIgW2RhdGEtem9vbT1pbmxpbmVdXCIpICYmXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmdhbGxlcnlTZWxlY3RvciArIFwiIC5pbmxpbmUtb3BlblwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5nYWxsZXJ5U2VsZWN0b3IgKyBcIiBbZGF0YS16b29tPWZseW91dF1cIilcbiAgICAgICAgICAgICAgICAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5nYWxsZXJ5U2VsZWN0b3IgKyBcIiAuZmx5b3V0LW9wZW5cIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZW5kUG9zaXRpb24gLSB0aGlzLnN0YXJ0UG9zaXRpb24pID49IDEwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNDdXJzb3JNb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBjbGljayBvbiBtb3VzZXVwIGZvciBpbmxpbmUgYW5kIGZseW91dCB6b29tXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmdhbGxlcnlTZWxlY3RvciArIFwiIFtkYXRhLXpvb209aW5saW5lXVwiKSB8fFxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5nYWxsZXJ5U2VsZWN0b3IgKyBcIiBbZGF0YS16b29tPWZseW91dF1cIikgfHxcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuZ2FsbGVyeVNlbGVjdG9yICsgXCIgW2RhdGEtem9vbT1wb3B1cF1cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cubWF0Y2hNZWRpYShcIihwb2ludGVyOiBjb2Fyc2UpXCIpLm1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcHR1cmVDbGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlQ29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjYXB0dXJlQ2xpY2ssIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNhcHR1cmVDbGljaywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWRkIHNsaWRlIGVmZmVjdFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiA9PT0gXCJzbGlkZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlXzEuZGVmYXVsdCh0aGlzLmdhbGxlcnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZXQgU2xpZGVyIFBvc2l0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgbW92ZWRCeSA9IHRoaXMuY3VycmVudFRyYW5zbGF0ZSAtIHRoaXMucHJldlRyYW5zbGF0ZTtcbiAgICAgICAgICAgICAgICBpZiAobW92ZWRCeSA8IC0xMCAmJiB0aGlzLnRhcmdldEluZGV4IDwgdGhpcy5tYWluU2xpZGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRJbmRleCArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobW92ZWRCeSA+IDEwICYmIHRoaXMudGFyZ2V0SW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0SW5kZXggLT0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQb3NpdGlvbkJ5SW5kZXhJbk1haW5TbGlkZXIodGhpcy50YXJnZXRJbmRleCk7XG4gICAgICAgICAgICAgICAgLy8gQWRkIGZhZGUgZWZmZWN0XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFuc2l0aW9uID09PSBcImZhZGVcIikge1xuICAgICAgICAgICAgICAgICAgICBmYWRlSW5fMS5kZWZhdWx0KHRoaXMuZ2FsbGVyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIE5hdmlnYXRpb24gYnV0dG9ucyBhcmUgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWFpbk5hdmlnYXRpb24gIT09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVNYWluQnV0dG9uc18xLmRlZmF1bHQodGhpcy5tYWluU2xpZGVzLCB0aGlzLnByZXZNYWluQnV0dG9uLCB0aGlzLm5leHRNYWluQnV0dG9uLCB0aGlzLnRhcmdldEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0N1cnNvck1vdmVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmlzTWFpblNsaWRlclN3aXBpbmcgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tYWluU2xpZGVzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgZHJhZyBiZWhhdmlvdXIgZm9yIG1haW5TbGlkZXNcbiAgICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLCAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBsaW5rIGRlZmF1bHQgYmVoYXZpb3VyIHdoZW4gc3dpcGluZ1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmdhbGxlcnlTZWxlY3RvciArIGAgW2RhdGEtZ2FsbGVyeV0gYWApKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5jaG9yVGFnID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuZ2FsbGVyeVNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgICsgYCBbZGF0YS1nYWxsZXJ5PWl0ZW0tJHtpbmRleH1dIGFgKTtcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yVGFnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuY2hvclRhZy5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzQ3Vyc29yTW92ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQWRkIHRvdWNoIGV2ZW50c1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5Qb2ludGVyRXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBnZXN0dXJlU3RhcnQoaW5kZXgpLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgZ2VzdHVyZU1vdmUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgZ2VzdHVyZUVuZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJjYW5jZWxcIiwgZ2VzdHVyZUVuZCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hkb3duXCIsIGdlc3R1cmVTdGFydChpbmRleCksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgZ2VzdHVyZU1vdmUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHVwXCIsIGdlc3R1cmVFbmQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLCBnZXN0dXJlRW5kLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGdlc3R1cmVTdGFydChpbmRleCksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgZ2VzdHVyZU1vdmUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGdlc3R1cmVFbmQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFpPT01cbiAgICAgICAgdGhpcy5zZXRab29tKCk7XG4gICAgICAgIC8vIENBUk9VU0VMIE5BVklHQVRJT05cbiAgICAgICAgLy8gU2V0IHRodW1uYWlscyBhbmQgaW5kaWNhdG9ycyBwb3NpdGlvblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNhcm91c2VsU3R5bGUgPT09IFwidGh1bWJuYWlsc1wiIHx8IHRoaXMub3B0aW9ucy5jYXJvdXNlbFN0eWxlID09PSBcImluZGljYXRvcnNcIikge1xuICAgICAgICAgICAgLy8gU2V0IGNhcm91c2VsIG9yIGluZGljYXRvcnMgUG9zaXRpb25cbiAgICAgICAgICAgIGlmICh0aGlzLmlzU2xpZGVyVmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdhbGxlcnlDb250YWluZXIuY2xhc3NMaXN0LmFkZCh0aGlzLm9wdGlvbnMuY2Fyb3VzZWxQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgKHRoaXMub3B0aW9ucy5jYXJvdXNlbFN0eWxlID09PSBcInRodW1ibmFpbHNcIikgP1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcm91c2VsV3JhcHBlci5zdHlsZS5mbGV4RGlyZWN0aW9uID0gXCJjb2x1bW5cIiA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmF2SW5kaWNhdG9ycy5zdHlsZS5mbGV4RGlyZWN0aW9uID0gXCJjb2x1bW5cIjtcbiAgICAgICAgICAgICAgICB0aGlzLmNhcm91c2VsT2Zmc2V0LnN0eWxlLndpZHRoID0gYCR7dGhpcy5vcHRpb25zLmNhcm91c2VsT2Zmc2V0fXB4YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2FsbGVyeUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKHRoaXMub3B0aW9ucy5jYXJvdXNlbFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhcm91c2VsT2Zmc2V0LnN0eWxlLmhlaWdodCA9IGAke3RoaXMub3B0aW9ucy5jYXJvdXNlbE9mZnNldH1weGA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSUYgQ0FST1VTRUwgSVMgVEhVTUJOQUlMU1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNhcm91c2VsU3R5bGUgPT09IFwidGh1bWJuYWlsc1wiKSB7XG4gICAgICAgICAgICB0aGlzLmNhcm91c2VsU2xpZGVzID0gQXJyYXkuZnJvbSh0aGlzLmNhcm91c2VsV3JhcHBlci5jaGlsZHJlbik7XG4gICAgICAgICAgICBjb25zdCBjYXJvdXNlbEltYWdlc1dyYXBwZXJzID0gdGhpcy5jYXJvdXNlbFdyYXBwZXIucXVlcnlTZWxlY3RvckFsbChcIi5zbGlkZSAuaW1nVGh1bWItd3JhcHBlclwiKTtcbiAgICAgICAgICAgIC8vIFNldCB0aHVtYm5haWxzIHNsaWRlIGFuZCBpbWcgZGltZW5zaW9uc1xuICAgICAgICAgICAgdGhpcy5jYXJvdXNlbFNsaWRlcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlVGh1bWJXcmFwcGVyID0gY2Fyb3VzZWxJbWFnZXNXcmFwcGVyc1tpbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3Qgc2xpZGVzVGh1bWJzID0gdGhpcy5jYXJvdXNlbFdyYXBwZXIucXVlcnlTZWxlY3RvckFsbChcIi5zbGlkZVwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzbGlkZVRodW1iID0gc2xpZGVzVGh1bWJzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpbWFnZVRodW1iV3JhcHBlci5zdHlsZS53aWR0aCA9IGAke3RoaXMub3B0aW9ucy50aHVtYm5haWxQcm9wcy53aWR0aH1weGA7XG4gICAgICAgICAgICAgICAgaW1hZ2VUaHVtYldyYXBwZXIuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5vcHRpb25zLnRodW1ibmFpbFByb3BzLmhlaWdodH1weGA7XG4gICAgICAgICAgICAgICAgc2xpZGVUaHVtYi5zdHlsZS5oZWlnaHQgPSB0aGlzLmlzU2xpZGVyVmVydGljYWwgPyBgJHt0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMuaGVpZ2h0ICsgdGhpcy5vcHRpb25zLnRodW1ibmFpbFByb3BzLm1hcmdpbn1weGAgOiBgJHt0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMuaGVpZ2h0fXB4YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gU2V0IHRodW1ibmFpbCBzaXplIGFjb3JkaW5nIHRvIHRoZSBjYXJvdXNlbCBwb3NpdGlvblxuICAgICAgICAgICAgdGhpcy50aHVtYkltYWdlU2l6ZSA9ICh0aGlzLmlzU2xpZGVyVmVydGljYWwpID9cbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMuaGVpZ2h0IDpcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMud2lkdGg7XG4gICAgICAgICAgICAvLyBTZXQgc2xpZGUgc2l6ZSBhY29yZGluZyB0byB0aGUgY2Fyb3VzZWwgcG9zaXRpb25cbiAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWxTbGlkZVNpemUgPSB0aGlzLnRodW1iSW1hZ2VTaXplICsgdGhpcy5vcHRpb25zLnRodW1ibmFpbFByb3BzLm1hcmdpbjtcbiAgICAgICAgICAgIHRoaXMuc2V0Q2Fyb3VzZWxEaW1lbnNpb24oKTtcbiAgICAgICAgICAgIC8vIFVzZSBwaWlvIGlmIGVuYWJsZWRcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGlpb0RvbWFpbktleSAmJiB3aW5kb3cucGlpbykge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0UGlpb0ltYWdlcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTG9hZCBjYXJvdXNlbCB0aHVtYm5haWwgaW1hZ2VzIGluIHNpZ2h0LlxuICAgICAgICAgICAgdGhpcy5sb2FkVGh1bWJuYWlsSW1hZ2VzSW5TaWdodCgpO1xuICAgICAgICAgICAgLy8gU2V0IFRodW1iIEJvcmRlciBXaWR0aFxuICAgICAgICAgICAgdGhpcy5nYWxsZXJ5LnN0eWxlLnNldFByb3BlcnR5KFwiLS10aHVtYkJvcmRlcldpZHRoXCIsIGAke3RoaXMub3B0aW9ucy50aHVtYm5haWxQcm9wcy5zZWxlY3RlZEJvcmRlcldpZHRofXB4YCk7XG4gICAgICAgICAgICAvLyBTZXQgZmlyc3QgdGh1bWJuYWlsIHNlbGVjdGVkIHN0eWxlXG4gICAgICAgICAgICBjb25zdCBhY3RpdmVUaHVtYiA9IHRoaXMuY2Fyb3VzZWxXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIuYWN0aXZlXCIpO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0V3JhcHBlciA9IGFjdGl2ZVRodW1iLnF1ZXJ5U2VsZWN0b3IoXCIuaW1nVGh1bWItd3JhcHBlclwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMuc2VsZWN0ZWRTdHlsZSA9PT0gXCJib3JkZXJcIikge1xuICAgICAgICAgICAgICAgIHRhcmdldFdyYXBwZXIuY2xhc3NMaXN0LmFkZChgYm9yZGVyLSR7dGhpcy5vcHRpb25zLnRodW1ibmFpbFByb3BzLnNlbGVjdGVkQm9yZGVyUG9zaXRpb259YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRXcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJvdmVybGF5XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRG93bmxvYWQgbWFpbiBpbWFnZSB3aGVuIHRodW1ibmFpbCBob3ZlclxuICAgICAgICAgICAgdGhpcy5jYXJvdXNlbFNsaWRlci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0VGh1bWIgPSB0YXJnZXQuY2xvc2VzdChcIi5zbGlkZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldFRodW1iKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXRJbmRleCA9IHRoaXMuY2Fyb3VzZWxTbGlkZXMuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtID09PSB0YXJnZXRUaHVtYik7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkSW1hZ2UodGhpcy5pbWFnZXNbdGhpcy50YXJnZXRJbmRleF0sIHsgdHlwZTogXCJtYWluXCIgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEdldCBjYXJvdXNlbCBzbGlkZXIgc2NyZWVuIHNpemVcbiAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWxTbGlkZXJTY3JlZW5TaXplID0gdGhpcy5nZXRjYXJvdXNlbFNsaWRlclNjcmVlblNpemUoKTtcbiAgICAgICAgICAgIC8vIERldGVjdCBpZiBhbGwgdGh1bWIgaW1hZ2VzIGFyZSBpbiBzaWdodFxuICAgICAgICAgICAgY29uc3QgYWxsVGh1bWJzV2lkdGggPSB0aGlzLmdldENhcm91c2VsV3JhcHBlckRpbWVuc2lvbigpO1xuICAgICAgICAgICAgaWYgKGFsbFRodW1ic1dpZHRoIDwgdGhpcy5jYXJvdXNlbFNsaWRlclNjcmVlblNpemUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFyZUFsbFRodW1ic0luU2lnaHQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IGltYWdlIHdoZW4gdGh1bWJuYWlsIGNsaWNrZWRcbiAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWxTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFpbldyYXBwZXIucXVlcnlTZWxlY3RvcihcIiAuaW5saW5lLW9wZW5cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluV3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiIC5pbmxpbmUtb3BlblwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiaW5saW5lLW9wZW5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubWFpbldyYXBwZXIucXVlcnlTZWxlY3RvcihcIiAuZmx5b3V0LW9wZW5cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluV3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiIC5mbHlvdXQtb3BlblwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiZmx5b3V0LW9wZW5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFRodW1iID0gdGFyZ2V0LmNsb3Nlc3QoXCIuc2xpZGVcIik7XG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRUaHVtYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFNsaWRlID0gdGhpcy5tYWluV3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiIC5jdXJyZW50XCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaHVtYiA9IHRoaXMuY2Fyb3VzZWxXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIgLmFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldEluZGV4ID0gdGhpcy5jYXJvdXNlbFNsaWRlcy5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0gPT09IHRhcmdldFRodW1iKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRTbGlkZSA9IHRoaXMubWFpblNsaWRlc1t0aGlzLnRhcmdldEluZGV4XTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRJbWFnZSh0aGlzLnRodW1iSW1hZ2VzW3RoaXMudGFyZ2V0SW5kZXggKyAxXSwgeyB0eXBlOiBcInRodW1ibmFpbFwiIH0pO1xuICAgICAgICAgICAgICAgIG1vdmVNYWluU2xpZGVyXzEuZGVmYXVsdCh0aGlzLm1haW5XcmFwcGVyLCB0aGlzLmN1cnJlbnRTbGlkZSwgdGFyZ2V0U2xpZGUsIHRoaXMudGFyZ2V0SW5kZXgsIHRoaXMuaW1hZ2VXaWR0aCwgdGhpcy5jb250ZXh0TWVudSwgdGhpcy5vcGVuSW1hZ2VUZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1haW5OYXZpZ2F0aW9uICE9PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlTWFpbkJ1dHRvbnNfMS5kZWZhdWx0KHRoaXMubWFpblNsaWRlcywgdGhpcy5wcmV2TWFpbkJ1dHRvbiwgdGhpcy5uZXh0TWFpbkJ1dHRvbiwgdGhpcy50YXJnZXRJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVwZGF0ZU5hdkVsZW1TZWxlY3RlZF8xLmRlZmF1bHQoY3VycmVudFRodW1iLCB0YXJnZXRUaHVtYiwgdGhpcy5vcHRpb25zLnRodW1ibmFpbFByb3BzLnNlbGVjdGVkU3R5bGUsIHRoaXMub3B0aW9ucy50aHVtYm5haWxQcm9wcy5zZWxlY3RlZEJvcmRlclBvc2l0aW9uLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiA9PT0gXCJmYWRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFkZUluXzEuZGVmYXVsdCh0aGlzLmdhbGxlcnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyYW5zaXRpb24gPT09IFwic2xpZGVcIikge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZV8xLmRlZmF1bHQodGhpcy5nYWxsZXJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVRodW1iTG9hZEltYWdlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZGVkVGh1bWJzID0gdGhpcy5jYXJvdXNlbFdyYXBwZXIucXVlcnlTZWxlY3RvckFsbChgaW1nOm5vdChbc3JjKj1cImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veUg1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlCUkFBXCJdKWApO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxvYWRlZFRodW1icy5sZW5ndGggPD0gdGhpcy50aHVtYkltYWdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkSW1hZ2UodGhpcy50aHVtYkltYWdlc1t0aGlzLmxvYWRlZFRodW1icy5sZW5ndGhdLCB7IHR5cGU6IFwidGh1bWJuYWlsXCIgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIFNldCB0aHVtYm5haWxzIGJ1dHRvbiBzdHlsZXNcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMubmF2aWdhdGlvblNoYXBlICE9PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgICAgIC8vIENhcm91c2VsIEJ1dHRvbnNcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZDYXJvdXNlbEJ1dHRvbi5jbGFzc0xpc3QuYWRkKGBidG4tY2Fyb3VzZWwtJHt0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMubmF2aWdhdGlvblNoYXBlfWApO1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dENhcm91c2VsQnV0dG9uLmNsYXNzTGlzdC5hZGQoYGJ0bi1jYXJvdXNlbC0ke3RoaXMub3B0aW9ucy50aHVtYm5haWxQcm9wcy5uYXZpZ2F0aW9uU2hhcGV9YCk7XG4gICAgICAgICAgICAgICAgLy8gVHJhbnNmb3JtIENhcm91c2VsIEJ1dHRvbnMgU3R5bGUgaWYgaXNTbGlkZXJWZXJ0aWNhbFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzU2xpZGVyVmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50aHVtYm5haWxQcm9wcy5uYXZpZ2F0aW9uU2hhcGUgPT09IFwiY2lyY2xlXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy50aHVtYm5haWxQcm9wcy5uYXZpZ2F0aW9uU2hhcGUgPT09IFwicmFkaXVzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldkNhcm91c2VsQnV0dG9uLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgyNSUpIHJvdGF0ZSg5MGRlZylcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldkNhcm91c2VsQnV0dG9uLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IFwidG9wIGxlZnRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldkNhcm91c2VsQnV0dG9uLnN0eWxlLnRvcCA9IGAwcHhgO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2Q2Fyb3VzZWxCdXR0b24uc3R5bGUubGVmdCA9IGA1MCVgO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2Fyb3VzZWxCdXR0b24uc3R5bGUudG9wID0gYHVuc2V0YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dENhcm91c2VsQnV0dG9uLnN0eWxlLmJvdHRvbSA9IGAwcHhgO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2Fyb3VzZWxCdXR0b24uc3R5bGUucmlnaHQgPSBgNTAlYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dENhcm91c2VsQnV0dG9uLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgtMjUlKSByb3RhdGUoOTBkZWcpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRDYXJvdXNlbEJ1dHRvbi5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBcInJpZ2h0IGJvdHRvbVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9ucy50aHVtYm5haWxQcm9wcy5uYXZpZ2F0aW9uU2hhcGUgPT09IFwic3F1YXJlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldkNhcm91c2VsQnV0dG9uLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCg1MCUpIHJvdGF0ZSg5MGRlZylcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldkNhcm91c2VsQnV0dG9uLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IFwidG9wIGxlZnRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldkNhcm91c2VsQnV0dG9uLnN0eWxlLnRvcCA9IGAwcHhgO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2Q2Fyb3VzZWxCdXR0b24uc3R5bGUubGVmdCA9IGA1MCVgO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2Fyb3VzZWxCdXR0b24uc3R5bGUudG9wID0gYHVuc2V0YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dENhcm91c2VsQnV0dG9uLnN0eWxlLmJvdHRvbSA9IGAwcHhgO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2Fyb3VzZWxCdXR0b24uc3R5bGUucmlnaHQgPSBgNTAlYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dENhcm91c2VsQnV0dG9uLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgtNTAlKSByb3RhdGUoOTBkZWcpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRDYXJvdXNlbEJ1dHRvbi5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBcInJpZ2h0IGJvdHRvbVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldkFycm93ID0gdGhpcy5wcmV2Q2Fyb3VzZWxCdXR0b24ucXVlcnlTZWxlY3RvcihcIiBzdmdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0QXJyb3cgPSB0aGlzLm5leHRDYXJvdXNlbEJ1dHRvbi5xdWVyeVNlbGVjdG9yKFwiIHN2Z1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldkNhcm91c2VsQnV0dG9uLnN0eWxlLmhlaWdodCA9IGAyNHB4YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldkNhcm91c2VsQnV0dG9uLnN0eWxlLnRvcCA9IGAwcHhgO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2Q2Fyb3VzZWxCdXR0b24uc3R5bGUudHJhbnNmb3JtID0gYHVuc2V0YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldkNhcm91c2VsQnV0dG9uLnN0eWxlLndpZHRoID0gYDEwMCVgO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkFycm93LnN0eWxlLnRyYW5zZm9ybSA9IFwicm90YXRlKDkwZGVnKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2Fyb3VzZWxCdXR0b24uc3R5bGUuaGVpZ2h0ID0gYDI0cHhgO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2Fyb3VzZWxCdXR0b24uc3R5bGUud2lkdGggPSBgMTAwJWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRDYXJvdXNlbEJ1dHRvbi5zdHlsZS50b3AgPSBgdW5zZXRgO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2Fyb3VzZWxCdXR0b24uc3R5bGUudHJhbnNmb3JtID0gYHVuc2V0YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dENhcm91c2VsQnV0dG9uLnN0eWxlLmJvdHRvbSA9IGAwcHhgO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEFycm93LnN0eWxlLnRyYW5zZm9ybSA9IFwicm90YXRlKDkwZGVnKVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIEJ1dHRvbnMgbXVzdCBiZSBkaXNhYmxlZCB3aGVuIGxvYWRpbmdcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJvdXNlbFdyYXBwZXJTaXplID0gKHRoaXMuaXNTbGlkZXJWZXJ0aWNhbCkgP1xuICAgICAgICAgICAgICAgICAgICBwYXJzZUludCh0aGlzLmNhcm91c2VsV3JhcHBlci5zdHlsZS5oZWlnaHQsIDEwKSA6XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KHRoaXMuY2Fyb3VzZWxXcmFwcGVyLnN0eWxlLndpZHRoLCAxMCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXJlQWxsVGh1bWJzSW5TaWdodCB8fCB0aGlzLmNhcm91c2VsU2xpZGVzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJldkNhcm91c2VsQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2Fyb3VzZWxCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjYXJvdXNlbFdyYXBwZXJTaXplIDwgdGhpcy5jYXJvdXNlbFNsaWRlclNjcmVlblNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2Fyb3VzZWxCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZXQgY2Fyb3VzZWwgQnV0dG9uc1xuICAgICAgICAgICAgICAgIHRoaXMucHJldkNhcm91c2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhcm91c2VsQ291bnRlciA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWxDb3VudGVyLS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbW92ZUNhcm91c2VsXzEuZGVmYXVsdCh0aGlzLmNhcm91c2VsV3JhcHBlciwgdGhpcy50aHVtYkltYWdlU2l6ZSwgdGhpcy5jYXJvdXNlbENvdW50ZXIsIHRoaXMuY2Fyb3VzZWxTbGlkZXIsIHRoaXMub3B0aW9ucy50aHVtYm5haWxQcm9wcy5tYXJnaW4sIHRoaXMuaXNTbGlkZXJWZXJ0aWNhbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMubmF2aWdhdGlvblNoYXBlICE9PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZUNhcm91c2VsQnV0dG9uc18xLmRlZmF1bHQodGhpcy5hcmVBbGxUaHVtYnNJblNpZ2h0LCB0aGlzLmNhcm91c2VsLCB0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMubWFyZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuUG9pbnRlckV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dENhcm91c2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyb3ZlclwiLCBoYW5kbGVUaHVtYkxvYWRJbWFnZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2Fyb3VzZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgaGFuZGxlVGh1bWJMb2FkSW1hZ2UsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2Fyb3VzZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCBoYW5kbGVUaHVtYkxvYWRJbWFnZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm5leHRDYXJvdXNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVUaHVtYkxvYWRJbWFnZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHRoaXMuY2Fyb3VzZWxDb3VudGVyICsgdGhpcy50aHVtYnNJblNpZ2h0KSA8PSB0aGlzLmNhcm91c2VsU2xpZGVzLmxlbmd0aCArIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWxDb3VudGVyKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbW92ZUNhcm91c2VsXzEuZGVmYXVsdCh0aGlzLmNhcm91c2VsV3JhcHBlciwgdGhpcy50aHVtYkltYWdlU2l6ZSwgdGhpcy5jYXJvdXNlbENvdW50ZXIsIHRoaXMuY2Fyb3VzZWxTbGlkZXIsIHRoaXMub3B0aW9ucy50aHVtYm5haWxQcm9wcy5tYXJnaW4sIHRoaXMuaXNTbGlkZXJWZXJ0aWNhbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMubmF2aWdhdGlvblNoYXBlICE9PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZUNhcm91c2VsQnV0dG9uc18xLmRlZmF1bHQodGhpcy5hcmVBbGxUaHVtYnNJblNpZ2h0LCB0aGlzLmNhcm91c2VsLCB0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMubWFyZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVE9VQ0ggRVZFTlRTIGZvciBDYXJvdXNlbCBUaHVtYm5haWxzXG4gICAgICAgICAgICBsZXQgaXNDYXJvdXNlbFN3aXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBjYXJvdXNlbFN0YXJ0UG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgbGV0IGNhcm91c2VsUHJldlRyYW5zbGF0ZSA9IDA7XG4gICAgICAgICAgICBsZXQgY2Fyb3VzZWxDdXJlbnRUcmFuc2xhdGUgPSAwO1xuICAgICAgICAgICAgY29uc3QgZ2VzdHVyZVN0YXJ0Q2Fyb3VzZWwgPSAocG9zKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjYXJvdXNlbFN0YXJ0UG9zaXRpb24gPSB0aGlzLmlzU2xpZGVyVmVydGljYWwgPyBnZXRwb3NpdGlvblkoZXYpIDogZ2V0cG9zaXRpb25YKGV2KTtcbiAgICAgICAgICAgICAgICAgICAgaXNDYXJvdXNlbFN3aXBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1NYXRyaXggPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmNhcm91c2VsV3JhcHBlcikuZ2V0UHJvcGVydHlWYWx1ZShcInRyYW5zZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybU1hdHJpeCAhPT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcm91c2VsUHJldlRyYW5zbGF0ZSA9IHRoaXMuaXNTbGlkZXJWZXJ0aWNhbCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQodHJhbnNmb3JtTWF0cml4LnNwbGl0KFwiLFwiKVs1XS50cmltKCksIDEwKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQodHJhbnNmb3JtTWF0cml4LnNwbGl0KFwiLFwiKVs0XS50cmltKCksIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgZ2VzdHVyZU1vdmVDYXJvdXNlbCA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzQ2Fyb3VzZWxTd2lwaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcm91c2VsQ3VycmVudFBvc2l0aW9uID0gdGhpcy5pc1NsaWRlclZlcnRpY2FsID8gZ2V0cG9zaXRpb25ZKGUpIDogZ2V0cG9zaXRpb25YKGUpO1xuICAgICAgICAgICAgICAgICAgICBjYXJvdXNlbEN1cmVudFRyYW5zbGF0ZSA9IGNhcm91c2VsQ3VycmVudFBvc2l0aW9uIC0gY2Fyb3VzZWxTdGFydFBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBnZXN0dXJlRW5kQ2Fyb3VzZWwgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhcm91c2VsRW5kUG9zaXRpb24gPSB0aGlzLmlzU2xpZGVyVmVydGljYWwgPyBnZXRwb3NpdGlvblkoZSkgOiBnZXRwb3NpdGlvblgoZSk7XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGNhcm91c2VsRW5kUG9zaXRpb24gLSBjYXJvdXNlbFN0YXJ0UG9zaXRpb24pID49IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1RyYW5zbGF0ZSA9IGNhcm91c2VsUHJldlRyYW5zbGF0ZSArIGNhcm91c2VsQ3VyZW50VHJhbnNsYXRlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VHJhbnNsYXRlIDwgY2Fyb3VzZWxQcmV2VHJhbnNsYXRlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcm91c2VsQ291bnRlciA8ICh0aGlzLmNhcm91c2VsU2xpZGVzLmxlbmd0aCAtIHRoaXMudGh1bWJzSW5TaWdodCArIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcm91c2VsQ291bnRlcisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVGh1bWJMb2FkSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdUcmFuc2xhdGUgPiBjYXJvdXNlbFByZXZUcmFuc2xhdGUgJiYgdGhpcy5jYXJvdXNlbENvdW50ZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcm91c2VsQ291bnRlci0tO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1vdmVDYXJvdXNlbF8xLmRlZmF1bHQodGhpcy5jYXJvdXNlbFdyYXBwZXIsIHRoaXMudGh1bWJJbWFnZVNpemUsIHRoaXMuY2Fyb3VzZWxDb3VudGVyLCB0aGlzLmNhcm91c2VsU2xpZGVyLCB0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMubWFyZ2luLCB0aGlzLmlzU2xpZGVyVmVydGljYWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRodW1ibmFpbFByb3BzLm5hdmlnYXRpb25TaGFwZSAhPT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVDYXJvdXNlbEJ1dHRvbnNfMS5kZWZhdWx0KHRoaXMuYXJlQWxsVGh1bWJzSW5TaWdodCwgdGhpcy5jYXJvdXNlbCwgdGhpcy5vcHRpb25zLnRodW1ibmFpbFByb3BzLm1hcmdpbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXNDYXJvdXNlbFN3aXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmNhcm91c2VsU2xpZGVzLmZvckVhY2goKHRodW1iLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBkcmFnIGJlaGF2aW91ciBmb3IgbWFpblNsaWRlc1xuICAgICAgICAgICAgICAgIHRodW1iLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgKGUpID0+IGUucHJldmVudERlZmF1bHQoKSk7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5Qb2ludGVyRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGh1bWIuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIGdlc3R1cmVTdGFydENhcm91c2VsKGluZGV4KSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRodW1iLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCBnZXN0dXJlTW92ZUNhcm91c2VsLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGh1bWIuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCBnZXN0dXJlRW5kQ2Fyb3VzZWwsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aHVtYi5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmNhbmNlbFwiLCBnZXN0dXJlRW5kQ2Fyb3VzZWwsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRvdWNoIGV2ZW50c1xuICAgICAgICAgICAgICAgICAgICB0aHVtYi5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hkb3duXCIsIGdlc3R1cmVTdGFydENhcm91c2VsKGluZGV4KSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRodW1iLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgZ2VzdHVyZU1vdmVDYXJvdXNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRodW1iLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHVwXCIsIGdlc3R1cmVFbmRDYXJvdXNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRodW1iLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLCBnZXN0dXJlRW5kQ2Fyb3VzZWwsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aHVtYi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGdlc3R1cmVTdGFydENhcm91c2VsKGluZGV4KSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRodW1iLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgZ2VzdHVyZU1vdmVDYXJvdXNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRodW1iLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGdlc3R1cmVFbmRDYXJvdXNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSUYgQ0FST1VTRUwgSVMgSU5ESUNBVE9SU1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNhcm91c2VsU3R5bGUgPT09IFwiaW5kaWNhdG9yc1wiKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRpY2F0b3JzID0gQXJyYXkuZnJvbSh0aGlzLm5hdkluZGljYXRvcnMuY2hpbGRyZW4pO1xuICAgICAgICAgICAgLy8gU2V0IGluZGljYXRvcidzIHN0eWxlc1xuICAgICAgICAgICAgaW5kaWNhdG9ycy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNsaWRlc0luaWNhdG9ycyA9IHRoaXMubmF2SW5kaWNhdG9ycy5xdWVyeVNlbGVjdG9yQWxsKFwiIC5pbmRpY2F0b3JcIik7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2xpZGVJbmRpY2F0b3IgPSBzbGlkZXNJbmljYXRvcnNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIHNsaWRlSW5kaWNhdG9yLmNsYXNzTGlzdC5hZGQoYGluZGljYXRvci0ke3RoaXMub3B0aW9ucy5pbmRpY2F0b3JQcm9wcy5zaGFwZX1gKTtcbiAgICAgICAgICAgICAgICBzbGlkZUluZGljYXRvci5zdHlsZS5tYXJnaW4gPSBgJHt0aGlzLm9wdGlvbnMuaW5kaWNhdG9yUHJvcHMuc3BhY2luZ31weGA7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbmRpY2F0b3JQcm9wcy5zaGFwZSA9PT0gXCJsaW5lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTbGlkZXJWZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVJbmRpY2F0b3Iuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5vcHRpb25zLmluZGljYXRvclByb3BzLnNpemV9cHhgO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVJbmRpY2F0b3Iuc3R5bGUud2lkdGggPSBgM3B4YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlSW5kaWNhdG9yLnN0eWxlLmhlaWdodCA9IGAzcHhgO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVJbmRpY2F0b3Iuc3R5bGUud2lkdGggPSBgJHt0aGlzLm9wdGlvbnMuaW5kaWNhdG9yUHJvcHMuc2l6ZX1weGA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlSW5kaWNhdG9yLnN0eWxlLmhlaWdodCA9IGAke3RoaXMub3B0aW9ucy5pbmRpY2F0b3JQcm9wcy5zaXplfXB4YDtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVJbmRpY2F0b3Iuc3R5bGUud2lkdGggPSBgJHt0aGlzLm9wdGlvbnMuaW5kaWNhdG9yUHJvcHMuc2l6ZX1weGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnNldE5hdkluZGljYXRvcnNEaW1lbnNpb24oKTtcbiAgICAgICAgICAgIC8vIFNldCBpbWFnZSB3aGVuIGluZGljYXRvciBjbGlja2VkXG4gICAgICAgICAgICB0aGlzLm5hdkluZGljYXRvcnMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFpbldyYXBwZXIucXVlcnlTZWxlY3RvcihcIiAuaW5saW5lLW9wZW5cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluV3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiIC5pbmxpbmUtb3BlblwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiaW5saW5lLW9wZW5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubWFpbldyYXBwZXIucXVlcnlTZWxlY3RvcihcIiAuZmx5b3V0LW9wZW5cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluV3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiIC5mbHlvdXQtb3BlblwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiZmx5b3V0LW9wZW5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldERvdCA9IHRhcmdldC5jbG9zZXN0KFwiLmluZGljYXRvclwiKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldERvdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTbGlkZSA9IHRoaXMubWFpbldyYXBwZXIucXVlcnlTZWxlY3RvcihcIiAuY3VycmVudFwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50SW5kaWNhdG9yID0gdGhpcy5uYXZJbmRpY2F0b3JzLnF1ZXJ5U2VsZWN0b3IoXCIgLmFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldEluZGV4ID0gaW5kaWNhdG9ycy5maW5kSW5kZXgoKGluZGljYXRvcikgPT4gaW5kaWNhdG9yID09PSB0YXJnZXREb3QpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFNsaWRlID0gdGhpcy5tYWluU2xpZGVzW3RoaXMudGFyZ2V0SW5kZXhdO1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZEltYWdlKHRoaXMuaW1hZ2VzW3RoaXMudGFyZ2V0SW5kZXhdLCB7IHR5cGU6IFwibWFpblwiIH0pO1xuICAgICAgICAgICAgICAgIG1vdmVNYWluU2xpZGVyXzEuZGVmYXVsdCh0aGlzLm1haW5XcmFwcGVyLCBjdXJyZW50U2xpZGUsIHRhcmdldFNsaWRlLCB0aGlzLnRhcmdldEluZGV4LCB0aGlzLmltYWdlV2lkdGgsIHRoaXMuY29udGV4dE1lbnUsIHRoaXMub3BlbkltYWdlVGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJldk1haW5CdXR0b24gJiYgdGhpcy5uZXh0TWFpbkJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlTWFpbkJ1dHRvbnNfMS5kZWZhdWx0KHRoaXMubWFpblNsaWRlcywgdGhpcy5wcmV2TWFpbkJ1dHRvbiwgdGhpcy5uZXh0TWFpbkJ1dHRvbiwgdGhpcy50YXJnZXRJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVwZGF0ZU5hdkVsZW1TZWxlY3RlZF8xLmRlZmF1bHQoY3VycmVudEluZGljYXRvciwgdGFyZ2V0RG90LCB0aGlzLm9wdGlvbnMudGh1bWJuYWlsUHJvcHMuc2VsZWN0ZWRTdHlsZSwgdGhpcy5vcHRpb25zLnRodW1ibmFpbFByb3BzLnNlbGVjdGVkQm9yZGVyUG9zaXRpb24sIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFuc2l0aW9uID09PSBcImZhZGVcIikge1xuICAgICAgICAgICAgICAgICAgICBmYWRlSW5fMS5kZWZhdWx0KHRoaXMuZ2FsbGVyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiA9PT0gXCJzbGlkZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlXzEuZGVmYXVsdCh0aGlzLmdhbGxlcnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVzZSBwaWlvIGlmIGVuYWJsZWRcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5waWlvRG9tYWluS2V5ICYmIHdpbmRvdy5waWlvKSB7XG4gICAgICAgICAgICB0aGlzLmdldFBpaW9JbWFnZXMoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgZmlyc3QgaW1hZ2VcbiAgICAgICAgdGhpcy5sb2FkSW1hZ2UodGhpcy5pbWFnZXNbMF0sIHsgdHlwZTogXCJtYWluXCIgfSk7XG4gICAgICAgIC8vIE9uIHdpbmRvdyBSRVNJWkVcbiAgICAgICAgY29uc3QgcmVzaXplID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNsaWRlID0gdGhpcy5tYWluV3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiIC5jdXJyZW50XCIpO1xuICAgICAgICAgICAgLy8gUmVzaXplIHRodW1ibmFpbHMgb3IgaW5kaWNhdG9yc1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jYXJvdXNlbFN0eWxlID09PSBcInRodW1ibmFpbHNcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2Fyb3VzZWxEaW1lbnNpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2Fyb3VzZWxTdHlsZSA9PT0gXCJpbmRpY2F0b3JzXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE5hdkluZGljYXRvcnNEaW1lbnNpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlc2l6ZSBtYWluIHNsaWRlclxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNEZXZpY2VXaXRoID0gdGhpcy5kZXZpY2VXaWR0aDtcbiAgICAgICAgICAgIHRoaXMuZGV2aWNlV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgICAgIHRoaXMuc2V0U2xpZGVyRGltZW5zaW9ucygpO1xuICAgICAgICAgICAgLy8gTG9hZCBuZXcgVGh1bWJuYWlsIEltYWdlc1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jYXJvdXNlbFN0eWxlID09PSBcInRodW1ibmFpbHNcIikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZFRodW1ibmFpbEltYWdlc0luU2lnaHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoYW5nZSBmbHlvdXQgZGlzcGxheSBhY29yZGluZyB0byBzY3JlZW4gc2l6ZVxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy56b29tUHJvcHMudHlwZSA9PT0gXCJmbHlvdXRcIiAmJiB0aGlzLnpvb21EaXYpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZXZpY2VXaWR0aCA8IDk5Mikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYWluV3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiIC5mbHlvdXQtb3BlblwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluV3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiIC5mbHlvdXQtb3BlblwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiZmx5b3V0LW9wZW5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluQ29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmZseW91dEhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy56b29tRGl2LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidW5zZXRcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy56b29tRGl2LnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9IFwidW5zZXRcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYWxsZXJ5Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcImRhdGEtem9vbVwiLCBcImlubGluZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRab29tKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZGV2aWNlV2lkdGggPj0gOTkyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1haW5XcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIgLmlubGluZS1vcGVuXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW5XcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIgLmlubGluZS1vcGVuXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJpbmxpbmUtb3BlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW5Db250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaW5saW5lRW50ZXJIYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuem9vbURpdi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5pbmxpbmVMZWF2ZUhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy56b29tRGl2LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidW5zZXRcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy56b29tRGl2LnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9IFwidW5zZXRcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYWxsZXJ5Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcImRhdGEtem9vbVwiLCBcImZseW91dFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRab29tKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5vcHRpb25zLnpvb21Qcm9wcy50eXBlID09PSBcImlubGluZVwiICYmIHRoaXMuem9vbURpdikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Wm9vbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVsb2FkIG1haW4gaW1hZ2VzIGFjY29yZGluZyB0byBzY3JlZW4gc2l6ZVxuICAgICAgICAgICAgaWYgKHByZXZpb3VzRGV2aWNlV2l0aCA8IHRoaXMuZGV2aWNlV2lkdGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkb3dubG9hZGVkTWFpbkltYWdlcyA9IHRoaXMubWFpbldyYXBwZXIucXVlcnlTZWxlY3RvckFsbChgaW1nOm5vdChbc3JjKj1cImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veUg1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlCUkFBXCJdKWApO1xuICAgICAgICAgICAgICAgIGRvd25sb2FkZWRNYWluSW1hZ2VzLmZvckVhY2goKGl0ZW0pID0+IGl0ZW0uc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBQUFBQVAvLy95SDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBSUJSQUFcIikpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZG93bmxvYWRlZE1haW5JbWFnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkSW1hZ2UodGhpcy5pbWFnZXNbaV0sIHsgdHlwZTogXCJtYWluXCIgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQWRqdXN0IHRyYW5zbGF0ZSBpbnNpZGUgd3JhcHBlciBpbiBvcmRlciB0byBkaXNwbGF5IGN1cnJlbnQgc2xpZGVcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VXaWR0aCA9IHRoaXMuZ2V0TWFpbkltYWdlV2lkdGgoKTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5tYWluU2xpZGVzLmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbSA9PT0gY3VycmVudFNsaWRlKTtcbiAgICAgICAgICAgIG1vdmVNYWluU2xpZGVyXzEuZGVmYXVsdCh0aGlzLm1haW5XcmFwcGVyLCBjdXJyZW50U2xpZGUsIGN1cnJlbnRTbGlkZSwgaW5kZXgsIHRoaXMuaW1hZ2VXaWR0aCwgdGhpcy5jb250ZXh0TWVudSwgdGhpcy5vcGVuSW1hZ2VUZXh0KTtcbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgcmVzaXplKTtcbiAgICB9XG59XG5jb25zdCBHYWxsZXJ5T2JqZWN0ID0ge1xuICAgIGluaXQob3B0cykge1xuICAgICAgICByZXR1cm4gbmV3IEdhbGxlcnkob3B0cyk7XG4gICAgfSxcbn07XG5leHBvcnRzLnBpaW9HYWxsZXJ5ID0gR2FsbGVyeU9iamVjdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdhbGxlcnlPYmplY3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBnYWxsZXJ5T2JqZWN0XzEgPSByZXF1aXJlKFwiLi90eXBlcy9nYWxsZXJ5T2JqZWN0XCIpO1xud2luZG93LnBpaW9HYWxsZXJ5ID0gZ2FsbGVyeU9iamVjdF8xLnBpaW9HYWxsZXJ5O1xudmFyIGdhbGxlcnlPYmplY3RfMiA9IHJlcXVpcmUoXCIuL3R5cGVzL2dhbGxlcnlPYmplY3RcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJwaWlvR2FsbGVyeVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2FsbGVyeU9iamVjdF8yLnBpaW9HYWxsZXJ5OyB9IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlpby1nYWxsZXJ5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8gRW5hYmxlIGFuZCBEaXNhYmxlIENhcm91c2VsIGJ1dHRvbnNcbmNvbnN0IGRpc2FibGVDYXJvdXNlbEJ1dHRvbnMgPSAoYXJlQWxsVGh1bWJzSW5TaWdodCwgY2Fyb3VzZWwsIG1hcmdpbikgPT4ge1xuICAgIGlmIChjYXJvdXNlbCkge1xuICAgICAgICBjb25zdCBjYXJvdXNlbFNsaWRlciA9IGNhcm91c2VsLnF1ZXJ5U2VsZWN0b3IoXCIuY2Fyb3VzZWwtc2xpZGVyXCIpO1xuICAgICAgICBjb25zdCBjYXJvdXNlbFdyYXBwZXIgPSBjYXJvdXNlbFNsaWRlci5xdWVyeVNlbGVjdG9yKFwiIC5jYXJvdXNlbC13cmFwcGVyXCIpO1xuICAgICAgICBjb25zdCBjYXJvdXNlbFNsaWRlclBvc2l0aW9uID0gY2Fyb3VzZWxTbGlkZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IGNhcm91c2VsV3JhcHBlclBvc2l0aW9uID0gY2Fyb3VzZWxXcmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBwcmV2Q2Fyb3VzZWwgPSBjYXJvdXNlbC5xdWVyeVNlbGVjdG9yKFwiI3ByZXZDYXJvdXNlbFwiKTtcbiAgICAgICAgY29uc3QgbmV4dENhcm91c2VsID0gY2Fyb3VzZWwucXVlcnlTZWxlY3RvcihcIiNuZXh0Q2Fyb3VzZWxcIik7XG4gICAgICAgIGlmIChhcmVBbGxUaHVtYnNJblNpZ2h0KSB7XG4gICAgICAgICAgICBwcmV2Q2Fyb3VzZWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgbmV4dENhcm91c2VsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjYXJvdXNlbFdyYXBwZXJQb3NpdGlvbi5ib3R0b20gPD0gKGNhcm91c2VsU2xpZGVyUG9zaXRpb24uYm90dG9tICsgbWFyZ2luKSAmJlxuICAgICAgICAgICAgY2Fyb3VzZWxXcmFwcGVyUG9zaXRpb24udG9wIDwgY2Fyb3VzZWxTbGlkZXJQb3NpdGlvbi50b3AgfHxcbiAgICAgICAgICAgIGNhcm91c2VsV3JhcHBlclBvc2l0aW9uLnJpZ2h0IDw9IChjYXJvdXNlbFNsaWRlclBvc2l0aW9uLnJpZ2h0ICsgbWFyZ2luKSAmJlxuICAgICAgICAgICAgICAgIGNhcm91c2VsV3JhcHBlclBvc2l0aW9uLmxlZnQgPCBjYXJvdXNlbFNsaWRlclBvc2l0aW9uLmxlZnQpIHtcbiAgICAgICAgICAgIHByZXZDYXJvdXNlbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgbmV4dENhcm91c2VsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjYXJvdXNlbFdyYXBwZXJQb3NpdGlvbi50b3AgPj0gY2Fyb3VzZWxTbGlkZXJQb3NpdGlvbi50b3AgJiZcbiAgICAgICAgICAgIGNhcm91c2VsV3JhcHBlclBvc2l0aW9uLmJvdHRvbSA+IChjYXJvdXNlbFNsaWRlclBvc2l0aW9uLmJvdHRvbSArIG1hcmdpbikgfHxcbiAgICAgICAgICAgIGNhcm91c2VsV3JhcHBlclBvc2l0aW9uLmxlZnQgPj0gY2Fyb3VzZWxTbGlkZXJQb3NpdGlvbi5sZWZ0ICYmXG4gICAgICAgICAgICAgICAgY2Fyb3VzZWxXcmFwcGVyUG9zaXRpb24ucmlnaHQgPiAoY2Fyb3VzZWxTbGlkZXJQb3NpdGlvbi5yaWdodCArIG1hcmdpbikpIHtcbiAgICAgICAgICAgIHByZXZDYXJvdXNlbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICBuZXh0Q2Fyb3VzZWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByZXZDYXJvdXNlbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgbmV4dENhcm91c2VsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIH1cbiAgICB9XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gZGlzYWJsZUNhcm91c2VsQnV0dG9ucztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc2FibGVDYXJvdXNlbEJ1dHRvbnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyBFbmFibGUgYW5kIERpc2FibGUgTWFpbiBJbWFnZSBidXR0b25zXG5mdW5jdGlvbiBkaXNhYmxlTWFpbkJ1dHRvbnMobWFpblNsaWRlcywgcHJldk1haW5CdXR0b24sIG5leHRNYWluQnV0dG9uLCB0YXJnZXRJbmRleCkge1xuICAgIGlmICh0YXJnZXRJbmRleCA9PT0gMCkge1xuICAgICAgICBwcmV2TWFpbkJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIG5leHRNYWluQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRhcmdldEluZGV4ID09PSBtYWluU2xpZGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgcHJldk1haW5CdXR0b24uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgbmV4dE1haW5CdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcHJldk1haW5CdXR0b24uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgbmV4dE1haW5CdXR0b24uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBkaXNhYmxlTWFpbkJ1dHRvbnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXNhYmxlTWFpbkJ1dHRvbnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyBGYWRlIHRyYW5zaXRpb25cbmZ1bmN0aW9uIGZhZGVJbihnYWxsZXJ5KSB7XG4gICAgY29uc3QgY3VycmVudCA9IGdhbGxlcnkucXVlcnlTZWxlY3RvcihgLmN1cnJlbnRgKTtcbiAgICAvLyBBZGQgZmFkZSBpbiBjbGFzc1xuICAgIGN1cnJlbnQuY2xhc3NMaXN0LmFkZChcImZhZGUtaW5cIik7XG4gICAgLy8gUmVtb3ZlIGZhZGUgaW4gY2xhc3MgYWZ0ZXIgMC41IHNlY29uZHNcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY3VycmVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZmFkZS1pblwiKTtcbiAgICB9LCA1MDApO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gZmFkZUluO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmFkZUluLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gZ2V0VGFyZ2V0RWxlbWVudChjdXJyZW50RWxlbWVudCwgdGFyZ2V0SW5kZXgsIGVsZW1lbnRzQXJyYXkpIHtcbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSBlbGVtZW50c0FycmF5LmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbSA9PT0gY3VycmVudEVsZW1lbnQpO1xuICAgIGxldCB0YXJnZXRFbGVtZW50O1xuICAgIGlmIChjdXJyZW50SW5kZXggPiB0YXJnZXRJbmRleCkge1xuICAgICAgICB0YXJnZXRFbGVtZW50ID0gY3VycmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgICB9XG4gICAgZWxzZSBpZiAoY3VycmVudEluZGV4IDwgdGFyZ2V0SW5kZXgpIHtcbiAgICAgICAgdGFyZ2V0RWxlbWVudCA9IGN1cnJlbnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRhcmdldEVsZW1lbnQgPSBjdXJyZW50RWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldEVsZW1lbnQ7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBnZXRUYXJnZXRFbGVtZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0VGFyZ2V0RWxlbWVudC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIFNldCBDYXJvdXNlbCBuYXYgUG9zaXRpb25cbmZ1bmN0aW9uIG1vdmVDYXJvdXNlbChuYXZXcmFwcGVyLCBuYXZUaHVtYlNpemUsIGNvdW50ZXIsIG5hdkNvbnRhaW5lciwgbWFyZ2luLCBpc1NsaWRlclZlcnRpY2FsKSB7XG4gICAgY29uc3QgbW92ZUJ5ID0gKG5hdlRodW1iU2l6ZSArIG1hcmdpbikgKiBjb3VudGVyO1xuICAgIGNvbnN0IG5hdkNvbnRhaW5lclNpemUgPSAoaXNTbGlkZXJWZXJ0aWNhbCkgP1xuICAgICAgICBuYXZDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IDpcbiAgICAgICAgbmF2Q29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICAgIGNvbnN0IG5hdldyYXBwZXJTaXplID0gKGlzU2xpZGVyVmVydGljYWwpID9cbiAgICAgICAgbmF2V3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgOlxuICAgICAgICBuYXZXcmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICAgIGlmICgobW92ZUJ5ICsgbmF2Q29udGFpbmVyU2l6ZSkgPCBuYXZXcmFwcGVyU2l6ZSkge1xuICAgICAgICBuYXZXcmFwcGVyLnN0eWxlLnRyYW5zZm9ybSA9IChpc1NsaWRlclZlcnRpY2FsKSA/IGB0cmFuc2xhdGVZKCAtJHttb3ZlQnl9cHgpYCA6IGB0cmFuc2xhdGVYKCAtJHttb3ZlQnl9cHgpYDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5hdldyYXBwZXIuc3R5bGUudHJhbnNmb3JtID0gKGlzU2xpZGVyVmVydGljYWwpID8gYHRyYW5zbGF0ZVkoIC0ke25hdldyYXBwZXJTaXplIC0gbmF2Q29udGFpbmVyU2l6ZSAtIG1hcmdpbn1weClgIDogYHRyYW5zbGF0ZVgoIC0ke25hdldyYXBwZXJTaXplIC0gbmF2Q29udGFpbmVyU2l6ZSAtIG1hcmdpbn1weClgO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IG1vdmVDYXJvdXNlbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vdmVDYXJvdXNlbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIFNldCBzbGlkZXIgUG9zaXRpb25cbmZ1bmN0aW9uIG1vdmVNYWluU2xpZGVyKG1haW5XcmFwcGVyLCBjdXJyZW50U2xpZGUsIHRhcmdldFNsaWRlLCB0YXJnZXRJbmRleCwgaW1hZ2VXaWR0aCwgY29udGV4dE1lbnUsIG9wZW5JbWFnZVRleHQpIHtcbiAgICBtYWluV3JhcHBlci5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCggLSR7aW1hZ2VXaWR0aCAqIHRhcmdldEluZGV4fXB4KWA7XG4gICAgY3VycmVudFNsaWRlLmNsYXNzTGlzdC5yZW1vdmUoXCJjdXJyZW50XCIpO1xuICAgIHRhcmdldFNsaWRlLmNsYXNzTGlzdC5hZGQoXCJjdXJyZW50XCIpO1xuICAgIGNvbnN0IHRhcmdldEltYWdlID0gdGFyZ2V0U2xpZGUucXVlcnlTZWxlY3RvcihcIltkYXRhLWltYWdlXVwiKTtcbiAgICBjb25zdCBvcmlnaW5hbFVSTCA9IHRhcmdldEltYWdlLmdldEF0dHJpYnV0ZShcImRhdGEtaW1hZ2VcIik7XG4gICAgLy8gQ3JlYXRlIGFuY2hvciB0YWdcbiAgICBjb25zdCBhbmNob3J0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICBhbmNob3J0YWcuY2xhc3NMaXN0LmFkZChcIml0ZW1cIik7XG4gICAgYW5jaG9ydGFnLnNldEF0dHJpYnV0ZShcInRhcmdldFwiLCBcIl9ibGFua1wiKTtcbiAgICBhbmNob3J0YWcuc2V0QXR0cmlidXRlKFwicmVsXCIsIFwibm9vcGVuZXIgbm9yZWZlcnJlclwiKTtcbiAgICBhbmNob3J0YWcuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBvcmlnaW5hbFVSTCk7XG4gICAgYW5jaG9ydGFnLmNsYXNzTGlzdC5hZGQoXCJpdGVtXCIpO1xuICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShvcGVuSW1hZ2VUZXh0KTtcbiAgICAvLyBBcHBlbmQgaXQgdG8gaXQncyBwYXJlbnRcbiAgICBhbmNob3J0YWcuYXBwZW5kQ2hpbGQodGV4dCk7XG4gICAgY29udGV4dE1lbnUuaW5uZXJIVE1MID0gXCIgXCI7XG4gICAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYW5jaG9ydGFnKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IG1vdmVNYWluU2xpZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW92ZU1haW5TbGlkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyBTbGlkZSB0cmFuc2l0aW9uXG5mdW5jdGlvbiBzbGlkZShub2RlKSB7XG4gICAgY29uc3QgbWFpbldyYXBwZXIgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi13cmFwcGVyXCIpO1xuICAgIG1haW5XcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJzbGlkZVwiKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHNsaWRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2xpZGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyBVcGRhdGUgdGhlIHNlbGVjdGVkIGVsZW1lbnRcbmZ1bmN0aW9uIHVwZGF0ZU5hdkVsZW1TZWxlY3RlZChjdXJyZW50LCB0YXJnZXQsIHNlbGVjdGVkU3R5bGUsIHNlbGVjdGVkQm9yZGVyUG9zaXRpb24sIG9wdGlvbnMpIHtcbiAgICBjb25zdCBjdXJyZW50V3JhcHBlciA9IGN1cnJlbnQucXVlcnlTZWxlY3RvcihgJHtvcHRpb25zLmdhbGxlcnlTZWxlY3Rvcn0gLmltZ1RodW1iLXdyYXBwZXJgKTtcbiAgICBjb25zdCB0YXJnZXRXcmFwcGVyID0gdGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoYCR7b3B0aW9ucy5nYWxsZXJ5U2VsZWN0b3J9IC5pbWdUaHVtYi13cmFwcGVyYCk7XG4gICAgY3VycmVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgIGlmIChjdXJyZW50V3JhcHBlcikge1xuICAgICAgICBpZiAoc2VsZWN0ZWRTdHlsZSA9PT0gXCJib3JkZXJcIikge1xuICAgICAgICAgICAgY3VycmVudFdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZShgYm9yZGVyLSR7c2VsZWN0ZWRCb3JkZXJQb3NpdGlvbn1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRXcmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJvdmVybGF5XCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RlZFN0eWxlID09PSBcImJvcmRlclwiKSB7XG4gICAgICAgICAgICB0YXJnZXRXcmFwcGVyLmNsYXNzTGlzdC5hZGQoYGJvcmRlci0ke3NlbGVjdGVkQm9yZGVyUG9zaXRpb259YCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRXcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJvdmVybGF5XCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gdXBkYXRlTmF2RWxlbVNlbGVjdGVkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBkYXRlTmF2RWxlbVNlbGVjdGVkLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy56b29tID0gdm9pZCAwO1xuY29uc3Qgem9vbSA9IChlKSA9PiB7XG4gICAgbGV0IGNsaWVudFg7XG4gICAgbGV0IGNsaWVudFk7XG4gICAgZS5jbGllbnRYID8gY2xpZW50WCA9IGUuY2xpZW50WCA6IGUudG91Y2hlcyA/IGNsaWVudFggPSBlLnRvdWNoZXNbMF0uY2xpZW50WCA6IGNsaWVudFggPSAwO1xuICAgIGUuY2xpZW50WSA/IGNsaWVudFkgPSBlLmNsaWVudFkgOiBlLnRvdWNoZXMgPyBjbGllbnRZID0gZS50b3VjaGVzWzBdLmNsaWVudFkgOiBjbGllbnRZID0gMDtcbiAgICBjb25zdCBpbWFnZVpvb20gPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgY29uc3Qgb2Zmc2V0WCA9IGNsaWVudFggLSBpbWFnZVpvb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICBjb25zdCBvZmZzZXRZID0gY2xpZW50WSAtIGltYWdlWm9vbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgbGV0IHhBbW91bnQgPSBvZmZzZXRYIC8gaW1hZ2Vab29tLm9mZnNldFdpZHRoICogMTAwO1xuICAgIGxldCB5QW1vdW50ID0gb2Zmc2V0WSAvIGltYWdlWm9vbS5vZmZzZXRIZWlnaHQgKiAxMDA7XG4gICAgKDAgPD0geEFtb3VudCAmJiB4QW1vdW50IDw9IDEwMCkgPyB4QW1vdW50ID0geEFtb3VudCA6IDAgPiB4QW1vdW50ID8geEFtb3VudCA9IDAgOiB4QW1vdW50ID0gMTAwO1xuICAgICgwIDw9IHlBbW91bnQgJiYgeUFtb3VudCA8PSAxMDApID8geUFtb3VudCA9IHlBbW91bnQgOiAwID4geUFtb3VudCA/IHlBbW91bnQgPSAwIDogeUFtb3VudCA9IDEwMDtcbiAgICByZXR1cm4geEFtb3VudCArIFwiJVwiICsgeUFtb3VudCArIFwiJVwiO1xufTtcbmV4cG9ydHMuem9vbSA9IHpvb207XG4vLyMgc291cmNlTWFwcGluZ1VSTD16b29tLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=